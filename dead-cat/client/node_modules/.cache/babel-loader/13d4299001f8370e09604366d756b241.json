{"ast":null,"code":"export async function handleDate(obj) {\n  /// obj.DATE REFERENCE FOR MARKET DATA PULLS ----------------------------------------\n  obj.today = new Date();\n  obj.year = obj.today.getFullYear();\n  obj.date = obj.today.getUTCDate();\n  obj.month = obj.today.getUTCMonth() + 1;\n  obj.minutes = obj.today.getUTCMinutes();\n  obj.hour = obj.today.getUTCHours(); // GET TIME FOR CLOSING AND OPENING MARKET -----------------------------------\n  //CALC FOR UTC TO EST\n\n  obj.hour = obj.hour - 4; // CALC FOR EARLY MORNING obj.HOURS UTC\n\n  if (obj.hour < 0) {\n    obj.hour = obj.hour + 24;\n  } // GET AND ADJUST obj.MINUTES TO ADD 0 BELOW 10\n\n\n  if (obj.minutes < 10) {\n    obj.minutes = `0${obj.minutes}`;\n  }\n\n  obj.time = `${obj.hour}${obj.minutes}`;\n  obj.timeNum = parseInt(obj.time); // GET DAY FOR CLOSING AND OPENING MARKET -------------------------------------------\n\n  obj.marketDay = obj.today.getDay(); // CHECK FOR MARKET OPEN - ADJUST obj.DATE SO VWAP STILL PULLS DATA FROM LAST DAY\n\n  if (obj.marketDay == 0) {\n    obj.date = obj.date - 2; // NEED TO CHECK FOR NEW obj.MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\n\n    if (obj.date <= 0) {\n      if (obj.month == 1 || obj.month == 2 || obj.month == 4 || obj.month == 6 || obj.month == 8 || obj.month == 9 || obj.month == 11) {\n        // obj.MONTHS AFTER 31 DAYS\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 30;\n      } else if (obj.month == 5 || obj.month == 7 || obj.month == 10 || obj.month == 12) {\n        // obj.MONTHS AFTER 30 DAYS\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 29;\n      } else if (obj.month == 3 && obj.year % 4 == 0) {\n        // obj.MONTH AFTER 29 DAYS LEAP obj.YEAR\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 28;\n      } // obj.MONTH AFTER 28\n      else {\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 27;\n      }\n    }\n  } else if (obj.marketDay == 6) {\n    obj.date = obj.date - 1; // NEED TO CHECK FOR NEW obj.MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\n\n    if (obj.date <= 0) {\n      if (obj.month == 1 || obj.month == 2 || obj.month == 4 || obj.month == 6 || obj.month == 8 || obj.month == 9 || obj.month == 11) {\n        // obj.MONTHS AFTER 31 DAYS\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 31;\n      } else if (obj.month == 5 || obj.month == 7 || obj.month == 10 || obj.month == 12) {\n        // obj.MONTHS AFTER 30 DAYS\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 30;\n      } else if (obj.month == 3 && obj.year % 4 == 0) {\n        // obj.MONTH AFTER 29 DAYS LEAP obj.YEAR\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 29;\n      } // obj.MONTH AFTER 28\n      else {\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 28;\n      }\n    }\n  } // THIS IS TO CHECK FOR MARKET DAY OPEN DURING WEEKENDS WHEN MARKET IS CLOSED\n\n\n  if (obj.marketDay == 1 && obj.timeNum < 930) {\n    obj.date = obj.date - 3; // NEED TO CHECK FOR NEW obj.MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\n\n    if (obj.date <= 0) {\n      if (obj.month == 1 || obj.month == 2 || obj.month == 4 || obj.month == 6 || obj.month == 8 || obj.month == 9 || obj.month == 11) {\n        // obj.MONTHS AFTER 31 DAYS\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 29;\n      } else if (obj.month == 5 || obj.month == 7 || obj.month == 10 || obj.month == 12) {\n        // obj.MONTHS AFTER 30 DAYS\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 28;\n      } else if (obj.month == 3 && obj.year % 4 == 0) {\n        // obj.MONTH AFTER 29 DAYS LEAP obj.YEAR\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 27;\n      } // obj.MONTH AFTER 28\n      else {\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 26;\n      }\n    }\n  } else if (obj.marketDay >= 2 && obj.marketDay < 6 && obj.timeNum < 930) {\n    // ADJUSTS DURING WEEK BEFORE OPEN TO GET DAY BEFORE INDICATORS\n    obj.date = obj.date - 1; // NEED TO CHECK FOR NEW obj.MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\n\n    if (obj.date <= 0) {\n      if (obj.month == 1 || obj.month == 2 || obj.month == 4 || obj.month == 6 || obj.month == 8 || obj.month == 9 || obj.month == 11) {\n        // obj.MONTHS AFTER 31 DAYS\n        obj.month = obj.month - 1;\n\n        if (obj.month == 0) {\n          obj.month = 1;\n        }\n\n        obj.date = 31;\n      } else if (obj.month == 5 || obj.month == 7 || obj.month == 10 || obj.month == 12) {\n        // obj.MONTHS AFTER 30 DAYS\n        obj.month = obj.month - 1;\n        obj.date = 30;\n      } else if (obj.month == 3 && obj.year % 4 == 0) {\n        // obj.MONTH AFTER 29 DAYS LEAP obj.YEAR\n        obj.month = obj.month - 1;\n        obj.date = 29;\n      } // obj.MONTH AFTER 28\n      else {\n        obj.month = obj.month - 1;\n        obj.date = 28;\n      }\n    }\n  } // THIS IS TO CORRECT MISSING 0 ON SINGLE DIGITS OF obj.MONTHS\n\n\n  if (obj.date < 10) {\n    obj.date = `0${obj.date}`;\n  }\n\n  if (obj.month < 10) {\n    obj.month = `0${obj.month}`;\n  } // obj.DATE CHECK VARIBLE FOR DATA PERIOD PULLS AND TO SLICE FROM\n\n\n  obj.todayDate = `${obj.year}-${obj.month}-${obj.date}`; //CHECK FOR HOLIDAYS OR CLOSED MARKET HOLIDAYS\n\n  if (obj.today.Date === \"2021-11-25\") {\n    obj.today.Date = \"2021-11-24\";\n  } else if (obj.today.Date === \"2021-12-24\") {\n    obj.today.Date = \"2021-12-23\";\n  } else if (obj.today.Date === \"2022-01-17\") {\n    obj.today.Date = \"2022-01-14\";\n  } else if (obj.today.Date === \"2022-02-21\") {\n    obj.today.Date = \"2022-02-18\";\n  } else if (obj.today.Date === \"2022-04-15\") {\n    obj.today.Date = \"2022-04-14\";\n  } else if (obj.today.Date === \"2022-05-30\") {\n    obj.today.Date = \"2022-05-27\";\n  } else if (obj.today.Date === \"2022-06-20\") {\n    obj.today.Date = \"2022-06-17\";\n  } else if (obj.today.Date === \"2022-07-04\") {\n    obj.today.Date = \"2022-07-01\";\n  } else if (obj.today.Date === \"2022-09-05\") {\n    obj.today.Date = \"2022-09-02\";\n  } else if (obj.today.Date === \"2022-11-24\") {\n    obj.today.Date = \"2022-11-23\";\n  } else if (obj.today.Date === \"2022-12-26\") {\n    obj.today.Date = \"2022-12-23\";\n  } // THIS IS AN ADJUSTMENT OF obj.DATE FOR MARKET CLOSES EST VS UTC TIME\n\n\n  var newDateString = obj.today.Date;\n\n  if (obj.hour + 4 >= 24) {\n    const dateNumSlice = parseInt(obj.date);\n    const dateSliceStart = obj.todayDate.slice(0, 8);\n    obj.newDateNum = obj.dateNumSlice - 1;\n\n    if (obj.newDateNum < 10) {\n      obj.newDateNum = `0${obj.newDateNum}`;\n    }\n\n    newDateString = `${obj.dateSliceStart}${obj.newDateNum}`;\n    newDateString = newDateString.toString(); // NEED TO CHECK FOR NEW obj.MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\n\n    if (obj.date == 1 && obj.hour + 4 >= 24) {\n      if (obj.month == 1 || obj.month == 2 || obj.month == 4 || obj.month == 6 || obj.month == 8 || obj.month == 9 || obj.month == 11) {\n        // obj.MONTHS AFTER 31 DAYS\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 31;\n        newDateString = `${obj.year}-${obj.month}-${obj.date}`;\n      } else if (obj.month == 5 || obj.month == 7 || obj.month == 10 || obj.month == 12) {\n        // obj.MONTHS AFTER 30 DAYS\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 30;\n        newDateString = `${obj.year}-${obj.month}-${obj.date}`;\n      } else if (obj.month == 3 && obj.year % 4 == 0) {\n        // obj.MONTH AFTER 29 DAYS LEAP obj.YEAR\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 29;\n        newDateString = `${obj.year}-${obj.month}-${obj.date}`;\n      } // obj.MONTH AFTER 28\n      else {\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 28;\n        newDateString = `${obj.year}-${obj.month}-${obj.date}`;\n      }\n    }\n  } // ---------------------- END OF obj.DATE -------------------------------------\n\n\n  return obj;\n} // module.exports = {handleDate}","map":{"version":3,"sources":["/Users/austinolijar/Desktop/MERN-DeadCat/dead-cat/client/src/JS/fetch-compile-functions/handleDate.js"],"names":["handleDate","obj","today","Date","year","getFullYear","date","getUTCDate","month","getUTCMonth","minutes","getUTCMinutes","hour","getUTCHours","time","timeNum","parseInt","marketDay","getDay","todayDate","newDateString","dateNumSlice","dateSliceStart","slice","newDateNum","toString"],"mappings":"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","sourcesContent":["export async function handleDate(obj) {\n    /// obj.DATE REFERENCE FOR MARKET DATA PULLS ----------------------------------------\n    obj.today = new Date();\n    obj.year = obj.today.getFullYear();\n    obj.date = obj.today.getUTCDate();\n    obj.month = obj.today.getUTCMonth() + 1;\n    obj.minutes = obj.today.getUTCMinutes();\n    obj.hour = obj.today.getUTCHours();\n    // GET TIME FOR CLOSING AND OPENING MARKET -----------------------------------\n    \n    //CALC FOR UTC TO EST\n    obj.hour = obj.hour - 4;\n    // CALC FOR EARLY MORNING obj.HOURS UTC\n    if (obj.hour < 0) {\n      obj.hour = obj.hour + 24;\n    }\n    \n    // GET AND ADJUST obj.MINUTES TO ADD 0 BELOW 10\n    if (obj.minutes < 10) {\n      obj.minutes = `0${obj.minutes}`;\n    }\n    obj.time = `${obj.hour}${obj.minutes}`;\n    obj.timeNum = parseInt(obj.time);\n    \n    // GET DAY FOR CLOSING AND OPENING MARKET -------------------------------------------\n    obj.marketDay = obj.today.getDay();\n    // CHECK FOR MARKET OPEN - ADJUST obj.DATE SO VWAP STILL PULLS DATA FROM LAST DAY\n    if (obj.marketDay == 0) {\n      obj.date = obj.date - 2;\n      // NEED TO CHECK FOR NEW obj.MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\n      if (obj.date <= 0) {\n        if (\n          obj.month == 1 ||\n          obj.month == 2 ||\n          obj.month == 4 ||\n          obj.month == 6 ||\n          obj.month == 8 ||\n          obj.month == 9 ||\n          obj.month == 11\n        ) {\n          // obj.MONTHS AFTER 31 DAYS\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 30;\n        } else if (obj.month == 5 || obj.month == 7 || obj.month == 10 || obj.month == 12) {\n          // obj.MONTHS AFTER 30 DAYS\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 29;\n        } else if (obj.month == 3 && obj.year % 4 == 0) {\n          // obj.MONTH AFTER 29 DAYS LEAP obj.YEAR\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 28;\n        } // obj.MONTH AFTER 28\n        else {\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 27;\n        }\n      }\n    } else if (obj.marketDay == 6) {\n      obj.date = obj.date - 1;\n      // NEED TO CHECK FOR NEW obj.MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\n      if (obj.date <= 0) {\n        if (\n          obj.month == 1 ||\n          obj.month == 2 ||\n          obj.month == 4 ||\n          obj.month == 6 ||\n          obj.month == 8 ||\n          obj.month == 9 ||\n          obj.month == 11\n        ) {\n          // obj.MONTHS AFTER 31 DAYS\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 31;\n        } else if (obj.month == 5 || obj.month == 7 || obj.month == 10 || obj.month == 12) {\n          // obj.MONTHS AFTER 30 DAYS\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 30;\n        } else if (obj.month == 3 && obj.year % 4 == 0) {\n          // obj.MONTH AFTER 29 DAYS LEAP obj.YEAR\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 29;\n        } // obj.MONTH AFTER 28\n        else {\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 28;\n        }\n      }\n    }\n    // THIS IS TO CHECK FOR MARKET DAY OPEN DURING WEEKENDS WHEN MARKET IS CLOSED\n    if (obj.marketDay == 1 && obj.timeNum < 930) {\n      obj.date = obj.date - 3;\n      // NEED TO CHECK FOR NEW obj.MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\n      if (obj.date <= 0) {\n        if (\n          obj.month == 1 ||\n          obj.month == 2 ||\n          obj.month == 4 ||\n          obj.month == 6 ||\n          obj.month == 8 ||\n          obj.month == 9 ||\n          obj.month == 11\n        ) {\n          // obj.MONTHS AFTER 31 DAYS\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 29;\n        } else if (obj.month == 5 || obj.month == 7 || obj.month == 10 || obj.month == 12) {\n          // obj.MONTHS AFTER 30 DAYS\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 28;\n        } else if (obj.month == 3 && obj.year % 4 == 0) {\n          // obj.MONTH AFTER 29 DAYS LEAP obj.YEAR\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 27;\n        } // obj.MONTH AFTER 28\n        else {\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 26;\n        }\n      }\n    } else if (obj.marketDay >= 2 && obj.marketDay < 6 && obj.timeNum < 930) {\n      // ADJUSTS DURING WEEK BEFORE OPEN TO GET DAY BEFORE INDICATORS\n      obj.date = obj.date - 1;\n      // NEED TO CHECK FOR NEW obj.MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\n      if (obj.date <= 0) {\n        if (\n          obj.month == 1 ||\n          obj.month == 2 ||\n          obj.month == 4 ||\n          obj.month == 6 ||\n          obj.month == 8 ||\n          obj.month == 9 ||\n          obj.month == 11\n        ) {\n          // obj.MONTHS AFTER 31 DAYS\n          obj.month = obj.month - 1;\n          if (obj.month == 0) {\n            obj.month = 1;\n          }\n          obj.date = 31;\n        } else if (obj.month == 5 || obj.month == 7 || obj.month == 10 || obj.month == 12) {\n          // obj.MONTHS AFTER 30 DAYS\n          obj.month = obj.month - 1;\n          obj.date = 30;\n        } else if (obj.month == 3 && obj.year % 4 == 0) {\n          // obj.MONTH AFTER 29 DAYS LEAP obj.YEAR\n          obj.month = obj.month - 1;\n          obj.date = 29;\n        } // obj.MONTH AFTER 28\n        else {\n          obj.month = obj.month - 1;\n          obj.date = 28;\n        }\n      }\n    }\n    \n    // THIS IS TO CORRECT MISSING 0 ON SINGLE DIGITS OF obj.MONTHS\n    if (obj.date < 10) {\n      obj.date = `0${obj.date}`;\n    }\n    if (obj.month < 10) {\n      obj.month = `0${obj.month}`;\n    }\n    \n    // obj.DATE CHECK VARIBLE FOR DATA PERIOD PULLS AND TO SLICE FROM\n    obj.todayDate = `${obj.year}-${obj.month}-${obj.date}`;\n    //CHECK FOR HOLIDAYS OR CLOSED MARKET HOLIDAYS\n    if (obj.today.Date === \"2021-11-25\") {\n      obj.today.Date = \"2021-11-24\";\n    } else if (obj.today.Date === \"2021-12-24\") {\n      obj.today.Date = \"2021-12-23\";\n    } else if (obj.today.Date === \"2022-01-17\") {\n      obj.today.Date = \"2022-01-14\";\n    } else if (obj.today.Date === \"2022-02-21\") {\n      obj.today.Date = \"2022-02-18\";\n    } else if (obj.today.Date === \"2022-04-15\") {\n      obj.today.Date = \"2022-04-14\";\n    } else if (obj.today.Date === \"2022-05-30\") {\n      obj.today.Date = \"2022-05-27\";\n    } else if (obj.today.Date === \"2022-06-20\") {\n      obj.today.Date = \"2022-06-17\";\n    } else if (obj.today.Date === \"2022-07-04\") {\n      obj.today.Date = \"2022-07-01\";\n    } else if (obj.today.Date === \"2022-09-05\") {\n      obj.today.Date = \"2022-09-02\";\n    } else if (obj.today.Date === \"2022-11-24\") {\n      obj.today.Date = \"2022-11-23\";\n    } else if (obj.today.Date === \"2022-12-26\") {\n      obj.today.Date = \"2022-12-23\";\n    }\n    // THIS IS AN ADJUSTMENT OF obj.DATE FOR MARKET CLOSES EST VS UTC TIME\n    var newDateString = obj.today.Date;\n    \n    if (obj.hour + 4 >= 24) {\n      const dateNumSlice = parseInt(obj.date);\n      const dateSliceStart = obj.todayDate.slice(0, 8);\n      obj.newDateNum = obj.dateNumSlice - 1;\n      if (obj.newDateNum < 10) {\n        obj.newDateNum = `0${obj.newDateNum}`;\n      }\n      newDateString = `${obj.dateSliceStart}${obj.newDateNum}`;\n      newDateString = newDateString.toString();\n      // NEED TO CHECK FOR NEW obj.MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\n      if (obj.date == 1 && obj.hour + 4 >= 24) {\n        if (\n          obj.month == 1 ||\n          obj.month == 2 ||\n          obj.month == 4 ||\n          obj.month == 6 ||\n          obj.month == 8 ||\n          obj.month == 9 ||\n          obj.month == 11\n        ) {\n          // obj.MONTHS AFTER 31 DAYS\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 31;\n          newDateString = `${obj.year}-${obj.month}-${obj.date}`;\n        } else if (obj.month == 5 || obj.month == 7 || obj.month == 10 || obj.month == 12) {\n          // obj.MONTHS AFTER 30 DAYS\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 30;\n          newDateString = `${obj.year}-${obj.month}-${obj.date}`;\n        } else if (obj.month == 3 && obj.year % 4 == 0) {\n          // obj.MONTH AFTER 29 DAYS LEAP obj.YEAR\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 29;\n          newDateString = `${obj.year}-${obj.month}-${obj.date}`;\n        } // obj.MONTH AFTER 28\n        else {\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 28;\n          newDateString = `${obj.year}-${obj.month}-${obj.date}`;\n        }\n      }\n    }\n    // ---------------------- END OF obj.DATE -------------------------------------\nreturn obj;\n}    \n\n// module.exports = {handleDate}"]},"metadata":{},"sourceType":"module"}