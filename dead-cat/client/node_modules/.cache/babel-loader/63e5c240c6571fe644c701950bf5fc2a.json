{"ast":null,"code":"async function handleDate(obj) {\n  /// obj.DATE REFERENCE FOR MARKET DATA PULLS ----------------------------------------\n  obj.today = new Date();\n  obj.year = obj.today.getFull.Year();\n  obj.date = obj.today.getUTC.Date();\n  obj.month = obj.today.getUTC.Month() + 1;\n  obj.minutes = obj.today.getUTC.Minutes();\n  obj.hour = obj.today.getUTC.Hours(); // GET TIME FOR CLOSING AND OPENING MARKET -----------------------------------\n  //CALC FOR UTC TO EST\n\n  obj.hour = obj.hour - 4; // CALC FOR EARLY MORNING obj.HOURS UTC\n\n  if (obj.hour < 0) {\n    obj.hour = obj.hour + 24;\n  } // GET AND ADJUST obj.MINUTES TO ADD 0 BELOW 10\n\n\n  if (obj.minutes < 10) {\n    obj.minutes = `0${obj.minutes}`;\n  }\n\n  obj.time = `${obj.hour}${obj.minutes}`;\n  obj.timeNum = parseInt(obj.time); // GET DAY FOR CLOSING AND OPENING MARKET -------------------------------------------\n\n  obj.marketDay = today.getDay(); // CHECK FOR MARKET OPEN - ADJUST obj.DATE SO VWAP STILL PULLS DATA FROM LAST DAY\n\n  if (obj.marketDay == 0) {\n    obj.date = obj.date - 2; // NEED TO CHECK FOR NEW obj.MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\n\n    if (obj.date <= 0) {\n      if (obj.month == 1 || obj.month == 2 || obj.month == 4 || obj.month == 6 || obj.month == 8 || obj.month == 9 || obj.month == 11) {\n        // obj.MONTHS AFTER 31 DAYS\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 30;\n      } else if (obj.month == 5 || obj.month == 7 || obj.month == 10 || obj.month == 12) {\n        // obj.MONTHS AFTER 30 DAYS\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 29;\n      } else if (obj.month == 3 && obj.year % 4 == 0) {\n        // obj.MONTH AFTER 29 DAYS LEAP obj.YEAR\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 28;\n      } // obj.MONTH AFTER 28\n      else {\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 27;\n      }\n    }\n  } else if (obj.marketDay == 6) {\n    obj.date = obj.date - 1; // NEED TO CHECK FOR NEW obj.MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\n\n    if (obj.date <= 0) {\n      if (obj.month == 1 || obj.month == 2 || obj.month == 4 || obj.month == 6 || obj.month == 8 || obj.month == 9 || obj.month == 11) {\n        // obj.MONTHS AFTER 31 DAYS\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 31;\n      } else if (obj.month == 5 || obj.month == 7 || obj.month == 10 || obj.month == 12) {\n        // obj.MONTHS AFTER 30 DAYS\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 30;\n      } else if (obj.month == 3 && obj.year % 4 == 0) {\n        // obj.MONTH AFTER 29 DAYS LEAP obj.YEAR\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 29;\n      } // obj.MONTH AFTER 28\n      else {\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 28;\n      }\n    }\n  } // THIS IS TO CHECK FOR MARKET DAY OPEN DURING WEEKENDS WHEN MARKET IS CLOSED\n\n\n  if (obj.marketDay == 1 && obj.timeNum < 930) {\n    obj.date = obj.date - 3; // NEED TO CHECK FOR NEW obj.MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\n\n    if (obj.date <= 0) {\n      if (obj.month == 1 || obj.month == 2 || obj.month == 4 || obj.month == 6 || obj.month == 8 || obj.month == 9 || obj.month == 11) {\n        // obj.MONTHS AFTER 31 DAYS\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 29;\n      } else if (obj.month == 5 || obj.month == 7 || obj.month == 10 || obj.month == 12) {\n        // obj.MONTHS AFTER 30 DAYS\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 28;\n      } else if (obj.month == 3 && obj.year % 4 == 0) {\n        // obj.MONTH AFTER 29 DAYS LEAP obj.YEAR\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 27;\n      } // obj.MONTH AFTER 28\n      else {\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 26;\n      }\n    }\n  } else if (obj.marketDay >= 2 && obj.marketDay < 6 && obj.timeNum < 930) {\n    // ADJUSTS DURING WEEK BEFORE OPEN TO GET DAY BEFORE INDICATORS\n    obj.date = obj.date - 1; // NEED TO CHECK FOR NEW obj.MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\n\n    if (obj.date <= 0) {\n      if (obj.month == 1 || obj.month == 2 || obj.month == 4 || obj.month == 6 || obj.month == 8 || obj.month == 9 || obj.month == 11) {\n        // obj.MONTHS AFTER 31 DAYS\n        obj.month = obj.month - 1;\n\n        if (obj.month == 0) {\n          obj.month = 1;\n        }\n\n        obj.date = 31;\n      } else if (obj.month == 5 || obj.month == 7 || obj.month == 10 || obj.month == 12) {\n        // obj.MONTHS AFTER 30 DAYS\n        obj.month = obj.month - 1;\n        obj.date = 30;\n      } else if (obj.month == 3 && obj.year % 4 == 0) {\n        // obj.MONTH AFTER 29 DAYS LEAP obj.YEAR\n        obj.month = obj.month - 1;\n        obj.date = 29;\n      } // obj.MONTH AFTER 28\n      else {\n        obj.month = obj.month - 1;\n        obj.date = 28;\n      }\n    }\n  } // THIS IS TO CORRECT MISSING 0 ON SINGLE DIGITS OF obj.MONTHS\n\n\n  if (obj.date < 10) {\n    obj.date = `0${obj.date}`;\n  }\n\n  if (obj.month < 10) {\n    obj.month = `0${obj.month}`;\n  } // obj.DATE CHECK VARIBLE FOR DATA PERIOD PULLS AND TO SLICE FROM\n\n\n  obj.todayDate = `${obj.year}-${obj.month}-${obj.date}`; //CHECK FOR HOLIDAYS OR CLOSED MARKET HOLIDAYS\n\n  if (todayobj.Date === \"2021-11-25\") {\n    todayobj.Date = \"2021-11-24\";\n  } else if (todayobj.Date === \"2021-12-24\") {\n    todayobj.Date = \"2021-12-23\";\n  } else if (todayobj.Date === \"2022-01-17\") {\n    todayobj.Date = \"2022-01-14\";\n  } else if (todayobj.Date === \"2022-02-21\") {\n    todayobj.Date = \"2022-02-18\";\n  } else if (todayobj.Date === \"2022-04-15\") {\n    todayobj.Date = \"2022-04-14\";\n  } else if (todayobj.Date === \"2022-05-30\") {\n    todayobj.Date = \"2022-05-27\";\n  } else if (todayobj.Date === \"2022-06-20\") {\n    todayobj.Date = \"2022-06-17\";\n  } else if (todayobj.Date === \"2022-07-04\") {\n    todayobj.Date = \"2022-07-01\";\n  } else if (todayobj.Date === \"2022-09-05\") {\n    todayobj.Date = \"2022-09-02\";\n  } else if (todayobj.Date === \"2022-11-24\") {\n    todayobj.Date = \"2022-11-23\";\n  } else if (todayobj.Date === \"2022-12-26\") {\n    todayobj.Date = \"2022-12-23\";\n  } // THIS IS AN ADJUSTMENT OF obj.DATE FOR MARKET CLOSES EST VS UTC TIME\n\n\n  obj.newDateString = todayobj.Date;\n\n  if (obj.hour + 4 >= 24) {\n    const dateNumSlice = parseInt(obj.date);\n    const dateSliceStart = obj.todayDate.slice(0, 8);\n    obj.newDateNum = obj.dateNumSlice - 1;\n\n    if (obj.newDateNum < 10) {\n      obj.newDateNum = `0${obj.newDateNum}`;\n    }\n\n    obj.newDateString = `${obj.dateSliceStart}${obj.newDateNum}`;\n    obj.newDateString = obj.newDateString.toString(); // NEED TO CHECK FOR NEW obj.MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\n\n    if (obj.date == 1 && obj.hour + 4 >= 24) {\n      if (obj.month == 1 || obj.month == 2 || obj.month == 4 || obj.month == 6 || obj.month == 8 || obj.month == 9 || obj.month == 11) {\n        // obj.MONTHS AFTER 31 DAYS\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 31;\n        newobj.DateString = `${obj.year}-${obj.month}-${obj.date}`;\n      } else if (obj.month == 5 || obj.month == 7 || obj.month == 10 || obj.month == 12) {\n        // obj.MONTHS AFTER 30 DAYS\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 30;\n        obj.newDateString = `${obj.year}-${obj.month}-${obj.date}`;\n      } else if (obj.month == 3 && obj.year % 4 == 0) {\n        // obj.MONTH AFTER 29 DAYS LEAP obj.YEAR\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 29;\n        obj.newDateString = `${obj.year}-${obj.month}-${obj.date}`;\n      } // obj.MONTH AFTER 28\n      else {\n        obj.month = obj.month - 1;\n\n        if (obj.month < 10) {\n          obj.month = `0${obj.month}`;\n        }\n\n        obj.date = 28;\n        obj.newDateString = `${obj.year}-${obj.month}-${obj.date}`;\n      }\n    }\n  } // ---------------------- END OF obj.DATE -------------------------------------\n\n}\n\nmodule.exports = {\n  handleDate\n};","map":{"version":3,"sources":["/Users/austinolijar/Desktop/MERN-DeadCat/dead-cat/src/JS/functions/handleDate.js"],"names":["handleDate","obj","today","Date","year","getFull","Year","date","getUTC","month","Month","minutes","Minutes","hour","Hours","time","timeNum","parseInt","marketDay","getDay","todayDate","todayobj","newDateString","dateNumSlice","dateSliceStart","slice","newDateNum","toString","newobj","DateString","module","exports"],"mappings":"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","sourcesContent":["async function handleDate(obj) {\n    /// obj.DATE REFERENCE FOR MARKET DATA PULLS ----------------------------------------\n    obj.today = new Date();\n    obj.year = obj.today.getFull.Year();\n    obj.date = obj.today.getUTC.Date();\n    obj.month = obj.today.getUTC.Month() + 1;\n    obj.minutes = obj.today.getUTC.Minutes();\n    obj.hour = obj.today.getUTC.Hours();\n    // GET TIME FOR CLOSING AND OPENING MARKET -----------------------------------\n    \n    //CALC FOR UTC TO EST\n    obj.hour = obj.hour - 4;\n    // CALC FOR EARLY MORNING obj.HOURS UTC\n    if (obj.hour < 0) {\n      obj.hour = obj.hour + 24;\n    }\n    \n    // GET AND ADJUST obj.MINUTES TO ADD 0 BELOW 10\n    if (obj.minutes < 10) {\n      obj.minutes = `0${obj.minutes}`;\n    }\n    obj.time = `${obj.hour}${obj.minutes}`;\n    obj.timeNum = parseInt(obj.time);\n    \n    // GET DAY FOR CLOSING AND OPENING MARKET -------------------------------------------\n    obj.marketDay = today.getDay();\n    // CHECK FOR MARKET OPEN - ADJUST obj.DATE SO VWAP STILL PULLS DATA FROM LAST DAY\n    if (obj.marketDay == 0) {\n      obj.date = obj.date - 2;\n      // NEED TO CHECK FOR NEW obj.MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\n      if (obj.date <= 0) {\n        if (\n          obj.month == 1 ||\n          obj.month == 2 ||\n          obj.month == 4 ||\n          obj.month == 6 ||\n          obj.month == 8 ||\n          obj.month == 9 ||\n          obj.month == 11\n        ) {\n          // obj.MONTHS AFTER 31 DAYS\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 30;\n        } else if (obj.month == 5 || obj.month == 7 || obj.month == 10 || obj.month == 12) {\n          // obj.MONTHS AFTER 30 DAYS\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 29;\n        } else if (obj.month == 3 && obj.year % 4 == 0) {\n          // obj.MONTH AFTER 29 DAYS LEAP obj.YEAR\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 28;\n        } // obj.MONTH AFTER 28\n        else {\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 27;\n        }\n      }\n    } else if (obj.marketDay == 6) {\n      obj.date = obj.date - 1;\n      // NEED TO CHECK FOR NEW obj.MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\n      if (obj.date <= 0) {\n        if (\n          obj.month == 1 ||\n          obj.month == 2 ||\n          obj.month == 4 ||\n          obj.month == 6 ||\n          obj.month == 8 ||\n          obj.month == 9 ||\n          obj.month == 11\n        ) {\n          // obj.MONTHS AFTER 31 DAYS\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 31;\n        } else if (obj.month == 5 || obj.month == 7 || obj.month == 10 || obj.month == 12) {\n          // obj.MONTHS AFTER 30 DAYS\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 30;\n        } else if (obj.month == 3 && obj.year % 4 == 0) {\n          // obj.MONTH AFTER 29 DAYS LEAP obj.YEAR\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 29;\n        } // obj.MONTH AFTER 28\n        else {\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 28;\n        }\n      }\n    }\n    // THIS IS TO CHECK FOR MARKET DAY OPEN DURING WEEKENDS WHEN MARKET IS CLOSED\n    if (obj.marketDay == 1 && obj.timeNum < 930) {\n      obj.date = obj.date - 3;\n      // NEED TO CHECK FOR NEW obj.MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\n      if (obj.date <= 0) {\n        if (\n          obj.month == 1 ||\n          obj.month == 2 ||\n          obj.month == 4 ||\n          obj.month == 6 ||\n          obj.month == 8 ||\n          obj.month == 9 ||\n          obj.month == 11\n        ) {\n          // obj.MONTHS AFTER 31 DAYS\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 29;\n        } else if (obj.month == 5 || obj.month == 7 || obj.month == 10 || obj.month == 12) {\n          // obj.MONTHS AFTER 30 DAYS\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 28;\n        } else if (obj.month == 3 && obj.year % 4 == 0) {\n          // obj.MONTH AFTER 29 DAYS LEAP obj.YEAR\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 27;\n        } // obj.MONTH AFTER 28\n        else {\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 26;\n        }\n      }\n    } else if (obj.marketDay >= 2 && obj.marketDay < 6 && obj.timeNum < 930) {\n      // ADJUSTS DURING WEEK BEFORE OPEN TO GET DAY BEFORE INDICATORS\n      obj.date = obj.date - 1;\n      // NEED TO CHECK FOR NEW obj.MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\n      if (obj.date <= 0) {\n        if (\n          obj.month == 1 ||\n          obj.month == 2 ||\n          obj.month == 4 ||\n          obj.month == 6 ||\n          obj.month == 8 ||\n          obj.month == 9 ||\n          obj.month == 11\n        ) {\n          // obj.MONTHS AFTER 31 DAYS\n          obj.month = obj.month - 1;\n          if (obj.month == 0) {\n            obj.month = 1;\n          }\n          obj.date = 31;\n        } else if (obj.month == 5 || obj.month == 7 || obj.month == 10 || obj.month == 12) {\n          // obj.MONTHS AFTER 30 DAYS\n          obj.month = obj.month - 1;\n          obj.date = 30;\n        } else if (obj.month == 3 && obj.year % 4 == 0) {\n          // obj.MONTH AFTER 29 DAYS LEAP obj.YEAR\n          obj.month = obj.month - 1;\n          obj.date = 29;\n        } // obj.MONTH AFTER 28\n        else {\n          obj.month = obj.month - 1;\n          obj.date = 28;\n        }\n      }\n    }\n    \n    // THIS IS TO CORRECT MISSING 0 ON SINGLE DIGITS OF obj.MONTHS\n    if (obj.date < 10) {\n      obj.date = `0${obj.date}`;\n    }\n    if (obj.month < 10) {\n      obj.month = `0${obj.month}`;\n    }\n    \n    // obj.DATE CHECK VARIBLE FOR DATA PERIOD PULLS AND TO SLICE FROM\n    obj.todayDate = `${obj.year}-${obj.month}-${obj.date}`;\n    //CHECK FOR HOLIDAYS OR CLOSED MARKET HOLIDAYS\n    if (todayobj.Date === \"2021-11-25\") {\n      todayobj.Date = \"2021-11-24\";\n    } else if (todayobj.Date === \"2021-12-24\") {\n      todayobj.Date = \"2021-12-23\";\n    } else if (todayobj.Date === \"2022-01-17\") {\n      todayobj.Date = \"2022-01-14\";\n    } else if (todayobj.Date === \"2022-02-21\") {\n      todayobj.Date = \"2022-02-18\";\n    } else if (todayobj.Date === \"2022-04-15\") {\n      todayobj.Date = \"2022-04-14\";\n    } else if (todayobj.Date === \"2022-05-30\") {\n      todayobj.Date = \"2022-05-27\";\n    } else if (todayobj.Date === \"2022-06-20\") {\n      todayobj.Date = \"2022-06-17\";\n    } else if (todayobj.Date === \"2022-07-04\") {\n      todayobj.Date = \"2022-07-01\";\n    } else if (todayobj.Date === \"2022-09-05\") {\n      todayobj.Date = \"2022-09-02\";\n    } else if (todayobj.Date === \"2022-11-24\") {\n      todayobj.Date = \"2022-11-23\";\n    } else if (todayobj.Date === \"2022-12-26\") {\n      todayobj.Date = \"2022-12-23\";\n    }\n    // THIS IS AN ADJUSTMENT OF obj.DATE FOR MARKET CLOSES EST VS UTC TIME\n    obj.newDateString = todayobj.Date;\n    \n    if (obj.hour + 4 >= 24) {\n      const dateNumSlice = parseInt(obj.date);\n      const dateSliceStart = obj.todayDate.slice(0, 8);\n      obj.newDateNum = obj.dateNumSlice - 1;\n      if (obj.newDateNum < 10) {\n        obj.newDateNum = `0${obj.newDateNum}`;\n      }\n      obj.newDateString = `${obj.dateSliceStart}${obj.newDateNum}`;\n      obj.newDateString = obj.newDateString.toString();\n      // NEED TO CHECK FOR NEW obj.MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\n      if (obj.date == 1 && obj.hour + 4 >= 24) {\n        if (\n          obj.month == 1 ||\n          obj.month == 2 ||\n          obj.month == 4 ||\n          obj.month == 6 ||\n          obj.month == 8 ||\n          obj.month == 9 ||\n          obj.month == 11\n        ) {\n          // obj.MONTHS AFTER 31 DAYS\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 31;\n          newobj.DateString = `${obj.year}-${obj.month}-${obj.date}`;\n        } else if (obj.month == 5 || obj.month == 7 || obj.month == 10 || obj.month == 12) {\n          // obj.MONTHS AFTER 30 DAYS\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 30;\n          obj.newDateString = `${obj.year}-${obj.month}-${obj.date}`;\n        } else if (obj.month == 3 && obj.year % 4 == 0) {\n          // obj.MONTH AFTER 29 DAYS LEAP obj.YEAR\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 29;\n          obj.newDateString = `${obj.year}-${obj.month}-${obj.date}`;\n        } // obj.MONTH AFTER 28\n        else {\n          obj.month = obj.month - 1;\n          if (obj.month < 10) {\n            obj.month = `0${obj.month}`;\n          }\n          obj.date = 28;\n          obj.newDateString = `${obj.year}-${obj.month}-${obj.date}`;\n        }\n      }\n    }\n    \n    // ---------------------- END OF obj.DATE -------------------------------------\n\n}    \n\nmodule.exports = {handleDate}"]},"metadata":{},"sourceType":"module"}