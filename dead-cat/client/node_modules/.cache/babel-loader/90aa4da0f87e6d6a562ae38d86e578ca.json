{"ast":null,"code":"import _toConsumableArray from\"/Users/austinolijar/Desktop/DeadCatReact/dead-cat/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/austinolijar/Desktop/DeadCatReact/dead-cat/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/austinolijar/Desktop/DeadCatReact/dead-cat/node_modules/@babel/runtime/regenerator/index.js\";export var technicalPortfolioAnalysis=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(arr){var today,year,date,month,minutes,hour,time,timeNum,marketDay,todayDate,newDateString,dateNumSlice,dateSliceStart,newDateNum,filterTradableSymbols,_filterTradableSymbols,smaFunction,wmaFunction,vwmaFunction,emaFunction,macdFunction,rsiFunction,stochOsc1433Function,williamsRFunction,cciFunction,bollingerBandsFunction,vwapFunction,setVolume,technicalIndicators,_technicalIndicators,buildSearchTech,_buildSearchTech,returnedData,emptyPortObj;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_buildSearchTech=function _buildSearchTech3(){_buildSearchTech=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(arr){var i,_arr$i,symbol,price,change,changesPercentage,avgVolume,volume,yesterdayVolume,vwap,smaFiveTeen,smaTwenty,smaThirty,smaFifty,smaOneHun,smaTwoHun,emaEight,emaTwelve,emaTwenty,emaTwentySix,emaFifty,emaTwoHun,wmaFiveTeen,wmaTwenty,wmaThirty,wmaFifty,wmaOneHun,wmaTwoHun,vwmaFiveTeen,vwmaTwenty,vwmaThirty,vwmaFifty,vwmaOneHun,vwmaTwoHun,macd,macdHistogram,macdSignalLine,rsi,stochasticD,stochasticK,stochasticSignal,cciTwenty,bbMiddle,bbLower,bbUpper,bbPercent,williamsR,directionArrow,volumeIncrease,increase,decrease,yesterdayVolIncrease,_increase,_decrease,returnedData;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:for(i=0;i<arr.length;i++){_arr$i=arr[i],symbol=_arr$i.symbol,price=_arr$i.price,change=_arr$i.change,changesPercentage=_arr$i.changesPercentage,avgVolume=_arr$i.avgVolume,volume=_arr$i.volume,yesterdayVolume=_arr$i.yesterdayVolume,vwap=_arr$i.vwap,smaFiveTeen=_arr$i.smaFiveTeen,smaTwenty=_arr$i.smaTwenty,smaThirty=_arr$i.smaThirty,smaFifty=_arr$i.smaFifty,smaOneHun=_arr$i.smaOneHun,smaTwoHun=_arr$i.smaTwoHun,emaEight=_arr$i.emaEight,emaTwelve=_arr$i.emaTwelve,emaTwenty=_arr$i.emaTwenty,emaTwentySix=_arr$i.emaTwentySix,emaFifty=_arr$i.emaFifty,emaTwoHun=_arr$i.emaTwoHun,wmaFiveTeen=_arr$i.wmaFiveTeen,wmaTwenty=_arr$i.wmaTwenty,wmaThirty=_arr$i.wmaThirty,wmaFifty=_arr$i.wmaFifty,wmaOneHun=_arr$i.wmaOneHun,wmaTwoHun=_arr$i.wmaTwoHun,vwmaFiveTeen=_arr$i.vwmaFiveTeen,vwmaTwenty=_arr$i.vwmaTwenty,vwmaThirty=_arr$i.vwmaThirty,vwmaFifty=_arr$i.vwmaFifty,vwmaOneHun=_arr$i.vwmaOneHun,vwmaTwoHun=_arr$i.vwmaTwoHun,macd=_arr$i.macd,macdHistogram=_arr$i.macdHistogram,macdSignalLine=_arr$i.macdSignalLine,rsi=_arr$i.rsi,stochasticD=_arr$i.stochasticD,stochasticK=_arr$i.stochasticK,stochasticSignal=_arr$i.stochasticSignal,cciTwenty=_arr$i.cciTwenty,bbMiddle=_arr$i.bbMiddle,bbLower=_arr$i.bbLower,bbUpper=_arr$i.bbUpper,bbPercent=_arr$i.bbPercent,williamsR=_arr$i.williamsR;directionArrow=\"up\";// SETS ARROW FOR UP AND DOWN --------------\nif(changesPercentage<0){arr[i].directionArrow=\"down\";}else{arr[i].directionArrow=\"up\";}// CHANGE TO POSITIVE BUT ARROW POINTS DOWN OR UP ----------\nif(change<0){arr[i].change=change*-1;}// ADJUST TO FIXED --------------------------------------------------------\nprice=price.toFixed(2);change=change.toFixed(2);changesPercentage=changesPercentage.toFixed(2);// VOLUME INCREASE TODAY ----------\nvolumeIncrease=0;if(volume>avgVolume){increase=volume-avgVolume;volumeIncrease=increase/avgVolume*100;}else{decrease=avgVolume-volume;volumeIncrease=decrease/avgVolume*-100;}volumeIncrease=volumeIncrease.toFixed(2);// TO GET AVERAGE DAILY VOLUME FOR YESTERDAY ----------------\nyesterdayVolIncrease=0;if(yesterdayVolume>avgVolume){_increase=yesterdayVolume-avgVolume;yesterdayVolIncrease=_increase/avgVolume*100;}else{_decrease=avgVolume-yesterdayVolume;yesterdayVolIncrease=_decrease/avgVolume*-100;}yesterdayVolIncrease=yesterdayVolIncrease.toFixed(2);// NaN CHECK ----------------------------------------\nif(isNaN(yesterdayVolIncrease)){arr[i].yesterdayVolIncrease=\"No Data\";}// ADJUST TO POSITIVE\nif(arr[i].stochasticD<0){arr[i].stochasticD=arr[i].stochasticD*-1;}if(arr[i].stochasticK<0){arr[i].stochasticK=arr[i].stochasticK*-1;}if(arr[i].stochasticD<0){arr[i].stochasticD=arr[i].stochasticD*-1;}if(arr[i].stochasticK<0){arr[i].stochasticK=arr[i].stochasticK*-1;}// ADJUST CERTAIN PARTS TO GIVE RIGHT PROMPT IF UNDEFINED\nif(arr[i].avgVolume==undefined){arr[i].avgVolume=\"No Data\";}if(arr[i].volume==undefined){arr[i].volume=\"No Data\";}if(arr[i].volumeIncrease==undefined){arr[i].volumeIncrease=\"No Data\";}if(arr[i].yesterdayVolume==undefined){arr[i].yesterdayVolume=\"No Data\";}if(arr[i].smaFiveTeen==undefined){arr[i].smaFiveTeen=\"No Data\";}if(arr[i].smaTwenty==undefined){arr[i].smaTwenty=\"No Data\";}if(arr[i].smaThirty==undefined){arr[i].smaThirty=\"No Data\";}if(arr[i].smaFifty==undefined){arr[i].smaFifty=\"No Data\";}if(arr[i].smaOneHun==undefined){arr[i].smaOneHun=\"No Data\";}if(arr[i].smaTwoHun==undefined){arr[i].smaTwoHun=\"No Data\";}if(arr[i].emaEight==undefined){arr[i].emaEight=\"No Data\";}if(arr[i].emaTwelve==undefined){arr[i].emaTwelve=\"No Data\";}if(arr[i].emaTwenty==undefined){arr[i].emaTwenty=\"No Data\";}if(arr[i].emaTwentySix==undefined){arr[i].emaTwentySix=\"No Data\";}if(arr[i].emaFifty==undefined){arr[i].emaFifty=\"No Data\";}if(arr[i].emaTwoHun==undefined){arr[i].emaTwoHun=\"No Data\";}if(arr[i].wmaFiveTeen==undefined){arr[i].wmaFiveTeen=\"No Data\";}if(arr[i].wmaTwenty==undefined){arr[i].wmaTwenty=\"No Data\";}if(arr[i].wmaThirty==undefined){arr[i].wmaThirty=\"No Data\";}if(arr[i].wmaFifty==undefined){arr[i].wmaFifty=\"No Data\";}if(arr[i].wmaOneHun==undefined){arr[i].wmaOneHun=\"No Data\";}if(arr[i].wmaTwoHun==undefined){arr[i].wmaTwoHun=\"No Data\";}if(arr[i].vwmaFiveTeen==undefined){arr[i].vwmaFiveTeen=\"No Data\";}if(arr[i].vwmaTwenty==undefined){arr[i].vwmaTwenty=\"No Data\";}if(arr[i].vwmaThirty==undefined){arr[i].vwmaThirty=\"No Data\";}if(arr[i].vwmaFifty==undefined){arr[i].vwmaFifty=\"No Data\";}if(arr[i].vwmaOneHun==undefined){arr[i].vwmaOneHun=\"No Data\";}if(arr[i].vwmaTwoHun==undefined){arr[i].vwmaTwoHun=\"No Data\";}if(arr[i].vwap==undefined){arr[i].vwap=\"No Data\";}if(arr[i].macd==undefined){arr[i].macd=\"No Data\";}if(arr[i].rsi==undefined){arr[i].rsi=\"No Data\";}if(arr[i].cciTwenty==undefined){arr[i].cciTwenty=\"No Data\";}if(arr[i].williamsR==undefined){arr[i].williamsR=\"No Data\";}if(arr[i].stochasticK==undefined){arr[i].stochasticK=\"No Data\";}if(arr[i].stochasticD==undefined){arr[i].stochasticD=\"No Data\";}if(arr[i].stochasticSignal==undefined){arr[i].stochasticSignal=\"No Data\";}if(arr[i].bbMiddle==undefined){arr[i].bbMiddle=\"No Data\";}if(arr[i].bbLower==undefined){arr[i].bbLower=\"No Data\";}if(arr[i].bbUpper==undefined){arr[i].bbUpper=\"No Data\";}if(arr[i].bbPercent==undefined){arr[i].bbPercent=\"No Data\";}// ADJUST TO POSITIVE\nif(arr[i].stochasticD<0){arr[i].stochasticD=arr[i].stochasticD*-1;}if(arr[i].stochasticK<0){arr[i].stochasticK=arr[i].stochasticK*-1;}if(arr[i].stochasticD<0){arr[i].stochasticD=arr[i].stochasticD*-1;}if(arr[i].stochasticK<0){arr[i].stochasticK=arr[i].stochasticK*-1;}arr[i].volumeIncreaseToday=volumeIncrease;arr[i].volumeIncreaseYesterday=yesterdayVolIncrease;arr[i].volumeYesterday=yesterdayVolume;}_context3.next=3;return arr;case 3:returnedData=_context3.sent;return _context3.abrupt(\"return\",returnedData);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return _buildSearchTech.apply(this,arguments);};buildSearchTech=function _buildSearchTech2(_x6){return _buildSearchTech.apply(this,arguments);};_technicalIndicators=function _technicalIndicators3(){_technicalIndicators=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(portfolioArr,callback){var j,symbol,resSMA,dataSMA,resOscPulled,dataRecentPulled,resVWAP,dataVWAP,returnedData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:j=0;case 1:if(!(j<portfolioArr.length)){_context2.next=38;break;}// LOOP FOR TECHNICAL SYMBOL\n// THIS IS THE ALL MIGHTY SYMBOL USED FOR PULLS\nsymbol=portfolioArr[j].symbol;//THIS PULL IS FOR CLOSE PRICES TO CALC TAs PAST CLOSE DATA //\n_context2.next=5;return fetch(\"https://financialmodelingprep.com/api/v3/historical-price-full/\".concat(symbol,\"?apikey=4d4593bc9e6bc106ee9d1cbd6400b218\"));case 5:resSMA=_context2.sent;_context2.next=8;return resSMA.json();case 8:dataSMA=_context2.sent;// SMA PULL USED FOR OTHER CALCS\n// ERROR CHECK FOR EMPTY PULL\ntry{if(!Object.keys(dataSMA).length){console.log(\"no SMA Pull data found\");}}catch(e){}//THIS PULL IS FOR OSCILLATORS ALL CURRENT CLOSE DATA\n_context2.next=12;return fetch(\"https://financialmodelingprep.com/api/v3/quote-short/\".concat(symbol,\"?apikey=4d4593bc9e6bc106ee9d1cbd6400b218\"));case 12:resOscPulled=_context2.sent;_context2.next=15;return resOscPulled.json();case 15:dataRecentPulled=_context2.sent;// ERROR CHECK FOR EMPTY PULL\ntry{if(!Object.keys(dataRecentPulled).length){console.log(\"no Recent Pull data found\");}}catch(e){}// VWAP ------------------------------------------------------------------------------------------------------------------------------------------------\n_context2.next=19;return fetch(\"https://financialmodelingprep.com/api/v3/historical-chart/5min/\".concat(symbol,\"?apikey=4d4593bc9e6bc106ee9d1cbd6400b218\"));case 19:resVWAP=_context2.sent;_context2.next=22;return resVWAP.json();case 22:dataVWAP=_context2.sent;// ERROR CHECK FOR EMPTY PULL\ntry{if(!Object.keys(dataVWAP).length){console.log(\"no VWAP Pull data found\");}}catch(e){}// VWAP ------------------------------------------------------------------------------------------------------------------------------------------------\nvwapFunction(portfolioArr,dataVWAP,j);// SMA -----------------------------------------------------------------------------------------------------------------------------------------------------------------------\nsmaFunction(portfolioArr,dataSMA,dataRecentPulled,j);// WMA ------------------------------------------------------------------------------------------------------------------------------------------------------------------\nwmaFunction(portfolioArr,dataSMA,dataRecentPulled,j);// VWMA ------------------------------------------------------------------------------------------------------------------------------------------------------------------\nvwmaFunction(portfolioArr,dataSMA,dataRecentPulled,j);// EMA WITH MACD CALLBACK ------------------------------------------------------------------------------------------------------------------------------------------\nemaFunction(portfolioArr,dataSMA,dataRecentPulled,j,macdFunction);// RSI ------------------------------------------------------------------------------------------------------------------------------------------------------------------\nrsiFunction(portfolioArr,dataSMA,dataRecentPulled,j);// STOCHASTIC OSCILLATOR ------------------------------------------------------------------------------------------------------------------------------------------------------------------\nstochOsc1433Function(portfolioArr,dataSMA,dataRecentPulled,j);//DATA VWAP USED FOR RECETN CLOSE DATA\n// WILLIAMS %R 14 ------------------------------------------------------------------------------------------------------------------------------------------------------------------\nwilliamsRFunction(portfolioArr,dataSMA,dataRecentPulled,j);// CCI 20 ------------------------------------------------------------------------------------------------------------------------------------------------------------------\ncciFunction(portfolioArr,dataSMA,dataRecentPulled,j);// BOLLINGER BANDS ------------------------------------------------------------------------------------------------------------------------------------------------------------------\nbollingerBandsFunction(portfolioArr,dataSMA,dataRecentPulled,j);// SET VOLUME PROPERTIES\nsetVolume(portfolioArr,dataSMA,dataRecentPulled,j);j++;// UPDATE WHILE LOOP\n_context2.next=1;break;case 38:_context2.next=40;return callback(portfolioArr,buildSearchTech);case 40:returnedData=_context2.sent;return _context2.abrupt(\"return\",returnedData);case 42:case\"end\":return _context2.stop();}}},_callee2);}));return _technicalIndicators.apply(this,arguments);};technicalIndicators=function _technicalIndicators2(_x4,_x5){return _technicalIndicators.apply(this,arguments);};setVolume=function _setVolume(chartArr,dataPull,newestPull,num){// SET RECENT YESTERDAY VOLUME\ntry{if(dataPull.historical.length<=0){chartArr[num].yesterdayVolume=0;}else{chartArr[num].yesterdayVolume=dataPull.historical[0].volume;if(marketDay==0||marketDay==6){chartArr[num].yesterdayVolume=dataPull.historical[1].volume;}if(marketDay>=1&&marketDay<=5&&timeNum<930){chartArr[num].yesterdayVolume=dataPull.historical[1].volume;}if(timeNum>1830){chartArr[num].yesterdayVolume=dataPull.historical[1].volume;}}if(newestPull.length<0){chartArr[num].volume=0;}else{// SET RECENT VOLUME\nchartArr[num].volume=newestPull[0].volume;}}catch(e){}};vwapFunction=function _vwapFunction(chartArr,dataPull,num){// ----------- VWAP CALUC -------------------------------------------\nvar dayLengthPeriod=0;var tpvCul=0;var volumeCul=0;var tempVWAP=[];// HOLD VWAP PERIOD - TAKES FROM 0 INDEX FOR MOST CURRENT\ntry{// -------------THIS IS FOR GETTING THE DAY LENGTH FOR VWAP\nwhile(dataPull[dayLengthPeriod].date.slice(0,10)==newDateString){dayLengthPeriod++;}// --------------------THIS IS FOR CALCULATING THE VWAP AND PUSHING TO\nfor(var i=0;i<dayLengthPeriod;i++){var _dataPull$i=dataPull[i],volume=_dataPull$i.volume,high=_dataPull$i.high,close=_dataPull$i.close,low=_dataPull$i.low,_date=_dataPull$i.date;var tpv=(high+low+close)/3;if(_date.slice(0,10)==newDateString){tpvCul+=tpv*volume;volumeCul+=volume;}var vwapFinal=tpvCul/volumeCul;// --------- THIS IS VWAP!!!!!!!!\ntempVWAP.unshift(vwapFinal);//ADD VWAP FRONT OF ARR\n}var vwap=tempVWAP[0].toFixed(2);chartArr[num].vwap=vwap;}catch(e){}};bollingerBandsFunction=function _bollingerBandsFuncti(chartArr,dataPull,newestPull,num){var smaCul=0;var closeHolder=[];try{var newPrice=newestPull[0].price;if(dataPull.historical.length<19){chartArr[num].bbUpper=\"No Data\";chartArr[num].bbLower=\"No Data\";chartArr[num].bbMiddle=\"No Data\";}else{var closeP=newPrice;for(var i=0;i<=19;i++){closeHolder.push(closeP);smaCul+=closeP;closeP=dataPull.historical[i].close;}// STANDARD DEVIATION CALC --------------------------------\nvar smaTwenty=smaCul/20;var priceAdj=closeHolder.map(function(x){return x-smaTwenty;});var priceAdjAbs=priceAdj.map(function(x){return Math.abs(x);});var priceAdjSqrt=priceAdjAbs.map(function(x){return x*x;});var partOneDev=priceAdjSqrt.reduce(function(a,b){return a+b;});var partTwoDev=partOneDev/20;var standardDev=Math.sqrt(partTwoDev);// BB BAND CALC --------------------------------------------\nvar bbUpper=smaTwenty+standardDev*2;var bbLower=smaTwenty-standardDev*2;var bbPercent=(newPrice-bbLower)/(bbUpper-bbLower);chartArr[num].bbUpper=bbUpper.toFixed(2);chartArr[num].bbLower=bbLower.toFixed(2);chartArr[num].bbMiddle=smaTwenty.toFixed(2);chartArr[num].bbPercent=bbPercent.toFixed(2);}}catch(e){}};cciFunction=function _cciFunction(chartArr,dataPull,newestPull,num){var tpvCul=0;var tpv=[];var tpvMa=0;try{var newPrice=newestPull[0].price;var tpvCurrent=newPrice;var recentTpv=newPrice;if(dataPull.historical.length<19){chartArr[num].cciTwenty=\"No Data\";}else{for(var i=0;i<=19;i++){var _dataPull$historical$=dataPull.historical[i],high=_dataPull$historical$.high,close=_dataPull$historical$.close,low=_dataPull$historical$.low;tpv.push(tpvCurrent);// PUSH FIRST NUMBER IN\ntpvCurrent=(close+high+low)/3;}// ---- TPV SMA ------------------------\ntpvCul=tpv.reduce(function(a,b){return a+b;});tpvMa=tpvCul/20;// TOP HALF OF FORMULA - DIVIDE BY PART TWO\nvar partOne=recentTpv-tpvMa;var meanD=tpv.map(function(x){return x-tpvMa;});var meanDMap=meanD.map(function(x){return Math.abs(x);});var meanDSum=meanDMap.reduce(function(a,b){return a+b;});var meanDiv=meanDSum/20;// PART TWO OF FORMULA --------------\nvar partTwo=meanDiv*0.015;// CCI ------------------------------\nvar cci=partOne/partTwo;chartArr[num].cciTwenty=cci.toFixed(2);}}catch(e){}};williamsRFunction=function _williamsRFunction(chartArr,dataPull,newestPull,num){var highs=[];var lows=[];var lowestLow=0;var highestHigh=0;try{var newPrice=newestPull[0].price;if(dataPull.historical.length<14){chartArr[num].williams=\"No Data\";}else{for(var i=0;i<=13;i++){highs.push(dataPull.historical[i].high);lows.push(dataPull.historical[i].low);}highs.push(newPrice);lows.push(newPrice);lowestLow=Math.min.apply(Math,lows);highestHigh=Math.max.apply(Math,highs);var williams=(highestHigh-dataPull.historical[0].close)/(highestHigh-lowestLow)*-100;chartArr[num].williamsR=williams.toFixed(2);}}catch(e){}};stochOsc1433Function=function _stochOsc1433Function(chartArr,dataPull,newestPull,num){var iSO=13;var soLowHolder=[];var soHighHolder=[];var highestHigh=0;var lowestLow=0;// FIRST %D\nvar topForm=[];var bottomForm=[];// SECOND %D\nvar topFormTwo=[];var bottomFormTwo=[];// THIRD %D\nvar topFormThree=[];var bottomFormThree=[];// HOLDING SET OF %D FOR 14 3 3\nvar signalLineHolder=[];try{var newPrice=newestPull[0].price;if(dataPull.historical.length<18){chartArr[num].stochasticK=\"No Data\";}else{// GETTING HIGHS AND LOWS OF PERIOD------------------------------------------------------\nwhile(iSO>=0){soLowHolder.push(dataPull.historical[iSO].low);soHighHolder.push(dataPull.historical[iSO].high);iSO--;}soHighHolder.push(newPrice);soLowHolder.push(newPrice);highestHigh=Math.max.apply(Math,_toConsumableArray(soHighHolder));lowestLow=Math.min.apply(Math,_toConsumableArray(soLowHolder));if(lowestLow===newPrice){newPrice=dataPull.historical[0].close;}if(highestHigh===newPrice){newPrice=dataPull.historical[0].close;}topForm.push(newPrice-lowestLow);bottomForm.push(highestHigh-lowestLow);//FOR %K\nchartArr[num].stochasticK=((newPrice-lowestLow)/(highestHigh-lowestLow)*100).toFixed(2);// RESET HOLDER AND VARs --------------------------------------------------------\niSO=14;soLowHolder=[];soHighHolder=[];highestHigh=0;lowestLow=0;// GETTING HIGHS AND LOWS OF PERIOD-----------------------------------------------\nwhile(iSO>=1){soLowHolder.push(dataPull.historical[iSO].low);soHighHolder.push(dataPull.historical[iSO].high);iSO--;}highestHigh=Math.max.apply(Math,_toConsumableArray(soHighHolder));lowestLow=Math.min.apply(Math,_toConsumableArray(soLowHolder));topForm.push(dataPull.historical[0].close-lowestLow);bottomForm.push(highestHigh-lowestLow);topFormTwo.push(dataPull.historical[0].close-lowestLow);bottomFormTwo.push(highestHigh-lowestLow);// RESET HOLDER AND VARs ------------------------------------------------\niSO=15;soLowHolder=[];soHighHolder=[];highestHigh=0;lowestLow=0;// GETTING HIGHS AND LOWS OF PERIOD-----------------------------------\nwhile(iSO>=2){soLowHolder.push(dataPull.historical[iSO].low);soHighHolder.push(dataPull.historical[iSO].high);iSO--;}highestHigh=Math.max.apply(Math,_toConsumableArray(soHighHolder));lowestLow=Math.min.apply(Math,_toConsumableArray(soLowHolder));topForm.push(dataPull.historical[1].close-lowestLow);bottomForm.push(highestHigh-lowestLow);topFormTwo.push(dataPull.historical[1].close-lowestLow);bottomFormTwo.push(highestHigh-lowestLow);topFormThree.push(dataPull.historical[1].close-lowestLow);bottomFormThree.push(highestHigh-lowestLow);// AFTER 3 WE SUM IT UP --------------- TO GET 1 OF THE 3 SMOOTHS FOR 14 3 3------------------------------------------\nvar sumTop=topForm.reduce(function(a,b){return a+b;},0);var sumBottom=bottomForm.reduce(function(a,b){return a+b;},0);var slowD=sumTop/sumBottom*100;// FOR %D\nchartArr[num].stochasticD=(slowD/3).toFixed(2);signalLineHolder.push(slowD);//RESET VARS ---------------------------------------------------------------------\niSO=16;soLowHolder=[];soHighHolder=[];highestHigh=0;lowestLow=0;sumTop=0;sumBottom=0;slowD=0;// GETTING HIGHS AND LOWS OF PERIOD------------------------------------------------\nwhile(iSO>=3){soLowHolder.push(dataPull.historical[iSO].low);soHighHolder.push(dataPull.historical[iSO].high);iSO--;}highestHigh=Math.max.apply(Math,_toConsumableArray(soHighHolder));lowestLow=Math.min.apply(Math,_toConsumableArray(soLowHolder));topFormTwo.push(dataPull.historical[2].close-lowestLow);bottomFormTwo.push(highestHigh-lowestLow);topFormThree.push(dataPull.historical[2].close-lowestLow);bottomFormThree.push(highestHigh-lowestLow);// AFTER 3 WE SUM IT UP --------------- TO GET 2 OF THE 3 SMOOTHS FOR 14 3 3------------------------------------------\nsumTop=topFormTwo.reduce(function(a,b){return a+b;},0);sumBottom=bottomFormTwo.reduce(function(a,b){return a+b;},0);slowD=sumTop/sumBottom*100;signalLineHolder.push(slowD);//RESET VARS ---------------------------------------------\niSO=17;soLowHolder=[];soHighHolder=[];highestHigh=0;lowestLow=0;sumTop=0;sumBottom=0;slowD=0;// GETTING HIGHS AND LOWS OF PERIOD-----------------------------------\nwhile(iSO>=4){soLowHolder.push(dataPull.historical[iSO].low);soHighHolder.push(dataPull.historical[iSO].high);iSO--;}highestHigh=Math.max.apply(Math,_toConsumableArray(soHighHolder));lowestLow=Math.min.apply(Math,_toConsumableArray(soLowHolder));topFormThree.push(dataPull.historical[3].close-lowestLow);bottomFormThree.push(highestHigh-lowestLow);// AFTER 3 WE SUM IT UP --------------- TO GET 3 OF THE 3 SMOOTHS FOR 14 3 3------------------------------------------\nsumTop=topFormThree.reduce(function(a,b){return a+b;},0);sumBottom=bottomFormThree.reduce(function(a,b){return a+b;},0);slowD=sumTop/sumBottom*100;signalLineHolder.push(slowD);// ----------- TALLY UP LAST SMOOTHING -------------------------------\nvar sumStochD=signalLineHolder.reduce(function(a,b){return a+b;},0);var smaD=sumStochD/3;if(smaD<0){smaD*=-1;chartArr[num].stochasticSignal=smaD.toFixed(2);}else{chartArr[num].stochasticSignal=smaD.toFixed(2);}}}catch(e){}};rsiFunction=function _rsiFunction(chartArr,dataPull,newestPull,num){var iRSI=13;var iRSIAdjusted=14;var recentUpper=0;var recentDowner=0;var upMove=0;var downMove=0;var pastDownPeriod=0;var pastUpPeriod=0;try{var newPrice=newestPull[0].price;// CHECK TO SEE IF DATA PULL CAN PULL ENOUGH DATA TO BE EFFECTIVE\nif(dataPull.historical.length<=14){chartArr[num].rsi=\"No Data\";}else{// LOOP FOR AVERAGE\nwhile(iRSI>=0){if(dataPull.historical[iRSI].close>dataPull.historical[iRSIAdjusted].close){upMove+=dataPull.historical[iRSI].close-dataPull.historical[iRSIAdjusted].close;}else{downMove+=dataPull.historical[iRSIAdjusted].close-dataPull.historical[iRSI].close;}iRSI--;iRSIAdjusted--;}var averageUp=upMove/14;var averageDown=downMove/14;// MOST RECENT DIFFERENCE\nif(newPrice>dataPull.historical[0].close){recentUpper=newPrice-dataPull.historical[0].close;}else{recentDowner=dataPull.historical[0].close-newPrice;}pastUpPeriod=(averageUp*13+recentUpper)/14;pastDownPeriod=(averageDown*13+recentDowner)/14;var rsi=100-100/(1+pastUpPeriod/pastDownPeriod);chartArr[num].rsi=rsi.toFixed(2);}}catch(e){}};macdFunction=function _macdFunction(chartArr,num,arr1,arr2){var macd=chartArr[num].emaTwelve-chartArr[num].emaTwentySix;chartArr[num].macd=macd.toFixed(2);// CALCULATE SIGNAL LINE ----------------\nvar averageMacd=[];var iMacd=8;try{while(iMacd>=0){averageMacd.unshift(arr1[iMacd]-arr2[iMacd]);iMacd--;}var averageSum=averageMacd.reduce(function(a,b){return a+b;});var finalAverageMacd=averageSum/9;var macdSignalLine=2/9*(chartArr[num].macd-finalAverageMacd)+finalAverageMacd;chartArr[num].macdSignalLine=macdSignalLine.toFixed(2);// HISTORGRAM CALC ------------------------------------- IF HISTOGRAM GOES FROM NEGATIVE TO POSITIVE IT IS BULLISH\nvar histogram=chartArr[num].macd-chartArr[num].macdSignalLine;chartArr[num].macdHistogram=histogram.toFixed(2);// FOR NO DATA TO PULL FROM\nif(chartArr[num].macdHistogram===\"NaN\"){chartArr[num].macdHistogram=\"No Data\";}if(chartArr[num].macd===\"NaN\"){chartArr[num].macd=\"No Data\";}if(chartArr[num].macdSignalLine===\"NaN\"){chartArr[num].macdSignalLine=\"No Data\";}}catch(e){}};emaFunction=function _emaFunction(chartArr,dataPull,newestPull,num,macdCallBack){var emaEight=14;var emaTwelve=22;var emaTwenty=38;var emaTwentySix=50;var emaFifty=98;var emaTwoHun=398;var prevDayEmaSub=0;var arrEma=[];var macdTwelve=[];// ARRs USED FOR MACD TWELVE HISTORY\nvar macdTwentySix=[];// ARRs USED FOR MACD TWENTY SIX HISTORY\ntry{var newPrice=newestPull[0].price;// EMA EIGHT ----------------------------------------------------------------------\nif(dataPull.historical.length<=16){chartArr[num].emaEight=\"No Data\";}else{while(emaEight>=15){prevDayEmaSub+=dataPull.historical[emaEight].close;emaEight--;}//CALCULATE EMA HERE TO GET PREVIOUS DAY EMA FOR ACCURATE CURRENT EMA\nvar subEMA=prevDayEmaSub/8;//THIS GETS AN EMA USING SMA AS PREV EMA ----------------------------\nvar finalSubEma=2/9*(dataPull.historical[emaEight].close-subEMA)+subEMA;arrEma.unshift(finalSubEma);emaEight--;while(emaEight>=0){var derp=2/9*(dataPull.historical[emaEight].close-arrEma[0])+arrEma[0];arrEma.unshift(derp);arrEma.pop();emaEight--;}var finalEma=2/9*(newPrice-arrEma[0])+arrEma[0];arrEma.unshift(finalEma);arrEma.pop();chartArr[num].emaEight=arrEma[0].toFixed(2);arrEma.pop();prevDayEmaSub=0;}// EMA TWELVE ----------------------------------------------------------------------\nif(dataPull.historical.length<=24){chartArr[num].emaTwelve=\"No Data\";}else{while(emaTwelve>=11){prevDayEmaSub+=dataPull.historical[emaTwelve].close;emaTwelve--;}//CALCULATE EMA HERE TO GET PREVIOUS DAY EMA FOR ACCURATE CURRENT EMA\nvar _subEMA=prevDayEmaSub/12;//THIS GETS AN EMA USING SMA AS PREV EMA ----------------------------\nvar _finalSubEma=2/13*(dataPull.historical[emaTwelve].close-_subEMA)+_subEMA;arrEma.unshift(_finalSubEma);emaTwelve--;while(emaTwelve>=0){var _derp=2/13*(dataPull.historical[emaTwelve].close-arrEma[0])+arrEma[0];arrEma.unshift(_derp);arrEma.pop();if(emaTwelve<8&&emaTwelve>=0){//THIS IF STATEMENT IS TO STORE VARIABLES FOR LATER MACD SIGNAL LINE\nmacdTwelve.unshift(_derp);}emaTwelve--;}var _finalEma=2/13*(newPrice-arrEma[0])+arrEma[0];arrEma.unshift(_finalEma);arrEma.pop();macdTwelve.unshift(_finalEma);chartArr[num].emaTwelve=arrEma[0].toFixed(2);arrEma.pop();prevDayEmaSub=0;}// EMA TWENTY ----------------------------------------------------------------------\nif(dataPull.historical.length<=40){chartArr[num].emaTwenty=\"No Data\";}else{while(emaTwenty>=19){prevDayEmaSub+=dataPull.historical[emaTwenty].close;emaTwenty--;}//CALCULATE EMA HERE TO GET PREVIOUS DAY EMA FOR ACCURATE CURRENT EMA\nvar _subEMA2=prevDayEmaSub/20;//THIS GETS AN EMA USING SMA AS PREV EMA ----------------------------\nvar _finalSubEma2=2/21*(dataPull.historical[emaTwenty].close-_subEMA2)+_subEMA2;arrEma.unshift(_finalSubEma2);emaTwenty--;while(emaTwenty>=0){var _derp2=2/21*(dataPull.historical[emaTwenty].close-arrEma[0])+arrEma[0];arrEma.unshift(_derp2);arrEma.pop();emaTwenty--;}var _finalEma2=2/21*(newPrice-arrEma[0])+arrEma[0];arrEma.unshift(_finalEma2);arrEma.pop();chartArr[num].emaTwenty=arrEma[0].toFixed(2);arrEma.pop();prevDayEmaSub=0;}// EMA TWENTY SIX ----------------------------------------------------------------------\nif(dataPull.historical.length<=51){chartArr[num].emaTwentySix=\"No Data\";}else{while(emaTwentySix>=25){prevDayEmaSub+=dataPull.historical[emaTwentySix].close;emaTwentySix--;}//CALCULATE EMA HERE TO GET PREVIOUS DAY EMA FOR ACCURATE CURRENT EMA\nvar _subEMA3=prevDayEmaSub/26;//THIS GETS AN EMA USING SMA AS PREV EMA ----------------------------\nvar _finalSubEma3=2/27*(dataPull.historical[emaTwentySix].close-_subEMA3)+_subEMA3;arrEma.unshift(_finalSubEma3);emaTwentySix--;while(emaTwentySix>=0){var _derp3=2/27*(dataPull.historical[emaTwentySix].close-arrEma[0])+arrEma[0];arrEma.unshift(_derp3);arrEma.pop();if(emaTwentySix<8&&emaTwentySix>=0){//THIS IF STATEMENT IS TO STORE VARIABLES FOR LATER MACD SIGNAL LINE\nmacdTwentySix.unshift(_derp3);}emaTwentySix--;}var _finalEma3=2/27*(newPrice-arrEma[0])+arrEma[0];arrEma.unshift(_finalEma3);arrEma.pop();macdTwentySix.unshift(_finalEma3);chartArr[num].emaTwentySix=arrEma[0].toFixed(2);arrEma.pop();prevDayEmaSub=0;}// EMA FIFTY -----------------------------------------------------------------------------\nif(dataPull.historical.length<=100){chartArr[num].emaFifty=\"No Data\";}else{while(emaFifty>=49){prevDayEmaSub+=dataPull.historical[emaFifty].close;emaFifty--;}//CALCULATE EMA HERE TO GET PREVIOUS DAY EMA FOR ACCURATE CURRENT EMA\nvar _subEMA4=prevDayEmaSub/50;//THIS GETS AN EMA USING SMA AS PREV EMA ----------------------------\nvar _finalSubEma4=2/51*(dataPull.historical[emaFifty].close-_subEMA4)+_subEMA4;arrEma.unshift(_finalSubEma4);emaFifty--;while(emaFifty>=0){var _derp4=2/51*(dataPull.historical[emaFifty].close-arrEma[0])+arrEma[0];arrEma.unshift(_derp4);arrEma.pop();emaFifty--;}var _finalEma4=2/51*(newPrice-arrEma[0])+arrEma[0];arrEma.unshift(_finalEma4);arrEma.pop();chartArr[num].emaFifty=arrEma[0].toFixed(2);arrEma.pop();prevDayEmaSub=0;}// EMA TWO HUNDRED -----------------------------------------------------------------------------\nif(dataPull.historical.length<=400){chartArr[num].emaTwoHun=\"No Data\";}else{while(emaTwoHun>=199){prevDayEmaSub+=dataPull.historical[emaTwoHun].close;emaTwoHun--;}//CALCULATE EMA HERE TO GET PREVIOUS DAY EMA FOR ACCURATE CURRENT EMA\nvar _subEMA5=prevDayEmaSub/200;//THIS GETS AN EMA USING SMA AS PREV EMA ----------------------------\nvar _finalSubEma5=2/201*(dataPull.historical[emaTwoHun].close-_subEMA5)+_subEMA5;arrEma.unshift(_finalSubEma5);emaTwoHun--;while(emaTwoHun>=0){var _derp5=2/201*(dataPull.historical[emaTwoHun].close-arrEma[0])+arrEma[0];arrEma.unshift(_derp5);arrEma.pop();emaTwoHun--;}var _finalEma5=2/201*(newPrice-arrEma[0])+arrEma[0];arrEma.unshift(_finalEma5);arrEma.pop();chartArr[num].emaTwoHun=arrEma[0].toFixed(2);arrEma.pop();prevDayEmaSub=0;}}catch(e){}// MACD CALLBACK -----------------------------------------------------------------------------------------------------------------------------------------\nmacdCallBack(chartArr,num,macdTwelve,macdTwentySix);};vwmaFunction=function _vwmaFunction(chartArr,dataPull,newestPull,num){// VWMA FIVETEEN --------------------------------------------------------------------\ntry{var price=0;var volume=0;var newPrice=newestPull[0].price;var newVol=newestPull[0].volume;var volCul=newestPull[0].volume;var totalCul=newPrice*newVol;if(dataPull.historical.length<14){chartArr[num].vwmaFiveTeen=\"No Data\";}else{for(var i=0;i<=13;i++){price=dataPull.historical[i].close;if(price==undefined){price=0;}volume=dataPull.historical[i].volume;if(volume==undefined){volume=0;}totalCul+=price*volume;if(isNaN(totalCul)){return;}volCul+=dataPull.historical[i].volume;if(isNaN(volCul)){return;}}var vwmaFiveTeen=totalCul/volCul;chartArr[num].vwmaFiveTeen=vwmaFiveTeen.toFixed(2);}// VWMA TWENTY --------------------------------------------------------------------\nvolCul=newestPull[0].volume;totalCul=newPrice*newVol;price=0;volume=0;if(dataPull.historical.length<19){chartArr[num].vwmaTwenty=\"No Data\";}else{for(var _i6=0;_i6<=18;_i6++){price=dataPull.historical[_i6].close;if(price==undefined){price=0;}volume=dataPull.historical[_i6].volume;if(volume==undefined){volume=0;}totalCul+=price*volume;if(isNaN(totalCul)){return;}volCul+=dataPull.historical[_i6].volume;if(isNaN(volCul)){return;}}var vwmaTwenty=totalCul/volCul;chartArr[num].vwmaTwenty=vwmaTwenty.toFixed(2);}// VWMA THIRTY --------------------------------------------------------------------\nvolCul=newestPull[0].volume;totalCul=newPrice*newVol;price=0;volume=0;if(dataPull.historical.length<29){chartArr[num].vwmaThirty=\"No Data\";}else{for(var _i7=0;_i7<=28;_i7++){price=dataPull.historical[_i7].close;if(price==undefined){price=0;}volume=dataPull.historical[_i7].volume;if(volume==undefined){volume=0;}totalCul+=price*volume;if(isNaN(totalCul)){return;}volCul+=dataPull.historical[_i7].volume;if(isNaN(volCul)){return;}}var vwmaThirty=totalCul/volCul;chartArr[num].vwmaThirty=vwmaThirty.toFixed(2);}// VWMA FIFTY --------------------------------------------------------------------\nvolCul=newestPull[0].volume;totalCul=newPrice*newVol;price=0;volume=0;if(dataPull.historical.length<49){chartArr[num].vwmaFifty=\"No Data\";}else{for(var _i8=0;_i8<=48;_i8++){price=dataPull.historical[_i8].close;if(price==undefined){price=0;}volume=dataPull.historical[_i8].volume;if(volume==undefined){volume=0;}totalCul+=price*volume;if(isNaN(totalCul)){return;}volCul+=dataPull.historical[_i8].volume;if(isNaN(volCul)){return;}}var vwmaFifty=totalCul/volCul;chartArr[num].vwmaFifty=vwmaFifty.toFixed(2);}// VWMA ONEHUN --------------------------------------------------------------------\nvolCul=newestPull[0].volume;totalCul=newPrice*newVol;price=0;volume=0;if(dataPull.historical.length<99){chartArr[num].vwmaOneHun=\"No Data\";}else{for(var _i9=0;_i9<=98;_i9++){price=dataPull.historical[_i9].close;if(price==undefined){price=0;}volume=dataPull.historical[_i9].volume;if(volume==undefined){volume=0;}totalCul+=price*volume;if(isNaN(totalCul)){return;}volCul+=dataPull.historical[_i9].volume;if(isNaN(volCul)){return;}}var vwmaOneHun=totalCul/volCul;chartArr[num].vwmaOneHun=vwmaOneHun.toFixed(2);}// VWMA TWOHUN --------------------------------------------------------------------\nvolCul=newestPull[0].volume;totalCul=newPrice*newVol;price=0;volume=0;if(dataPull.historical.length<199){chartArr[num].vwmaTwoHun=\"No Data\";}else{for(var _i10=0;_i10<=198;_i10++){price=dataPull.historical[_i10].close;if(price==undefined){price=0;}volume=dataPull.historical[_i10].volume;if(volume==undefined){volume=0;}totalCul+=price*volume;if(isNaN(totalCul)){return;}volCul+=dataPull.historical[_i10].volume;if(isNaN(volCul)){return;}}var vwmaTwoHun=totalCul/volCul;chartArr[num].vwmaTwoHun=vwmaTwoHun.toFixed(2);}}catch(e){}};wmaFunction=function _wmaFunction(chartArr,dataPull,newestPull,num){// WMA FiveTeen --------------------------------------------------------------------\nvar weight=14;var wmaInterval=0;var iWma=15;try{var wmaCul=newestPull[0].price*15;if(dataPull.historical.length<14){chartArr[num].wmaFiveTeen=\"No Data\";}else{for(var i=0;i<=13;i++){wmaInterval=dataPull.historical[i].close*weight;wmaCul+=wmaInterval;iWma+=weight;weight--;}var wmaFiveTeen=wmaCul/iWma;chartArr[num].wmaFiveTeen=wmaFiveTeen.toFixed(2);}// WMA Twenty --------------------------------------------------------------------\nwmaCul=newestPull[0].price*20;weight=19;wmaInterval=0;iWma=20;if(dataPull.historical.length<19){chartArr[num].wmaTwenty=\"No Data\";}else{for(var _i=0;_i<=18;_i++){wmaInterval=dataPull.historical[_i].close*weight;wmaCul+=wmaInterval;iWma+=weight;weight--;}var wmaTwenty=wmaCul/iWma;chartArr[num].wmaTwenty=wmaTwenty.toFixed(2);}// WMA THIRTY --------------------------------------------------------------------\nwmaCul=newestPull[0].price*30;weight=29;wmaInterval=0;iWma=30;if(dataPull.historical.length<30){chartArr[num].wmaThirty=\"No Data\";}else{for(var _i2=0;_i2<=28;_i2++){wmaInterval=dataPull.historical[_i2].close*weight;wmaCul+=wmaInterval;iWma+=weight;weight--;}var wmaThirty=wmaCul/iWma;chartArr[num].wmaThirty=wmaThirty.toFixed(2);}// WMA FIFTY --------------------------------------------------------------------\nwmaCul=newestPull[0].price*50;weight=49;wmaInterval=0;iWma=50;if(dataPull.historical.length<50){chartArr[num].wmaFifty=\"No Data\";}else{for(var _i3=0;_i3<=48;_i3++){wmaInterval=dataPull.historical[_i3].close*weight;wmaCul+=wmaInterval;iWma+=weight;weight--;}var wmaFifty=wmaCul/iWma;chartArr[num].wmaFifty=wmaFifty.toFixed(2);}// WMA ONE HUNDRED --------------------------------------------------------------------\nwmaCul=newestPull[0].price*100;weight=99;wmaInterval=0;iWma=100;if(dataPull.historical.length<100){chartArr[num].wmaOneHun=\"No Data\";}else{for(var _i4=0;_i4<=98;_i4++){wmaInterval=dataPull.historical[_i4].close*weight;wmaCul+=wmaInterval;iWma+=weight;weight--;}var wmaOneHun=wmaCul/iWma;chartArr[num].wmaOneHun=wmaOneHun.toFixed(2);}// WMA TWO HUNDRED --------------------------------------------------------------------\nwmaCul=newestPull[0].price*200;weight=199;wmaInterval=0;iWma=200;if(dataPull.historical.length<200){chartArr[num].wmaTwoHun=\"No Data\";}else{for(var _i5=0;_i5<=198;_i5++){wmaInterval=dataPull.historical[_i5].close*weight;wmaCul+=wmaInterval;iWma+=weight;weight--;}var wmaTwoHun=wmaCul/iWma;chartArr[num].wmaTwoHun=wmaTwoHun.toFixed(2);}}catch(e){}};smaFunction=function _smaFunction(chartArr,dataPull,newestPull,num){var culSMA=0;// ------- SMA INDEX IS - 2 FROM TOTAL BECAUSE OF 0 INDEX = 1 AND ADDING RECENT PRICE DATA --------------------\nvar fiveTeenSMA=13;var twentySMA=18;var thirtySMA=28;var fiftySMA=48;var hunSMA=98;var twoHunSMA=198;try{var todayPricePull=newestPull[0].price;// ------------- 15 DAY SMA -------------------------------\nif(dataPull.historical.length<=13){chartArr[num].smaFiveTeen=\"No Data\";}else{while(fiveTeenSMA>=0){culSMA+=dataPull.historical[fiveTeenSMA].close;fiveTeenSMA--;}var smaFiveResult=(culSMA+todayPricePull)/15;chartArr[num].smaFiveTeen=smaFiveResult.toFixed(2);culSMA=0;}// ------------- 20 DAY SMA -------------------------------\nif(dataPull.historical.length<=19){chartArr[num].smaTwenty=\"No Data\";}else{while(twentySMA>=0){culSMA+=dataPull.historical[twentySMA].close;twentySMA--;}var smaTwentyResult=(culSMA+todayPricePull)/20;chartArr[num].smaTwenty=smaTwentyResult.toFixed(2);culSMA=0;}// ------------- 30 DAY SMA -------------------------------\nif(dataPull.historical.length<=29){chartArr[num].smaThirty=\"No Data\";}else{while(thirtySMA>=0){culSMA+=dataPull.historical[thirtySMA].close;thirtySMA--;}var smaThirtyResult=(culSMA+todayPricePull)/30;chartArr[num].smaThirty=smaThirtyResult.toFixed(2);culSMA=0;}// ------------- 50 DAY SMA -------------------------------\nif(dataPull.historical.length<=49){chartArr[num].smaFifty=\"No Data\";}else{while(fiftySMA>=0){culSMA+=dataPull.historical[fiftySMA].close;fiftySMA--;}var smaFiftyResult=(culSMA+todayPricePull)/50;chartArr[num].smaFifty=smaFiftyResult.toFixed(2);culSMA=0;}// ------------- 100 DAY SMA -------------------------------\nif(dataPull.historical.length<=99){chartArr[num].smaOneHun=\"No Data\";}else{while(hunSMA>=0){culSMA+=dataPull.historical[hunSMA].close;hunSMA--;}var smaOneHunResult=(culSMA+todayPricePull)/100;chartArr[num].smaOneHun=smaOneHunResult.toFixed(2);culSMA=0;}// ------------- 200 DAY SMA -------------------------------\nif(dataPull.historical.length<=199){chartArr[num].smaTwoHun=\"No Data\";}else{while(twoHunSMA>=0){culSMA+=dataPull.historical[twoHunSMA].close;twoHunSMA--;}var smaTwoHunResult=(culSMA+todayPricePull)/200;chartArr[num].smaTwoHun=smaTwoHunResult.toFixed(2);culSMA=0;}}catch(e){}};_filterTradableSymbols=function _filterTradableSymbol2(){_filterTradableSymbols=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(portArr,callback){var res,dataNyse,resTwo,dataNas,combinedStock,holderArr,i,j,returnedData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://financialmodelingprep.com/api/v3/quotes/nyse?apikey=4d4593bc9e6bc106ee9d1cbd6400b218\");case 3:res=_context.sent;_context.next=6;return res.json();case 6:dataNyse=_context.sent;_context.next=9;return fetch(\"https://financialmodelingprep.com/api/v3/quotes/nasdaq?apikey=4d4593bc9e6bc106ee9d1cbd6400b218\");case 9:resTwo=_context.sent;_context.next=12;return resTwo.json();case 12:dataNas=_context.sent;_context.next=15;return dataNyse.concat(dataNas);case 15:combinedStock=_context.sent;// IN ANOTHER FUNCTION MAKE THE FILTER TO MATCH PORTFOLIO ARR\n// GETTING INFO FOR PORTFOLIO STOCK ===========================\nholderArr=[];for(i=0;i<portArr.length;i++){for(j=0;j<combinedStock.length;j++){if(portArr[i].symbol===combinedStock[j].symbol){holderArr.push(combinedStock[j]);}}}//--------- CATCH\n_context.next=22;break;case 20:_context.prev=20;_context.t0=_context[\"catch\"](0);case 22:_context.next=24;return callback(holderArr,technicalIndicators);case 24:returnedData=_context.sent;return _context.abrupt(\"return\",returnedData);case 26:case\"end\":return _context.stop();}}},_callee,null,[[0,20]]);}));return _filterTradableSymbols.apply(this,arguments);};filterTradableSymbols=function _filterTradableSymbol(_x2,_x3){return _filterTradableSymbols.apply(this,arguments);};if(!(arr===null)){_context4.next=23;break;}alert(\"Sorry, your portfolio seems to be malfunctioning.\");return _context4.abrupt(\"return\",[]);case 23:if(!(arr.length<=0)){_context4.next=26;break;}alert(\"Sorry, your portfolio seems to be malfunctioning.\");return _context4.abrupt(\"return\",[]);case 26:/// DATE REFERENCE FOR MARKET DATA PULLS ----------------------------------------==============\ntoday=new Date();year=today.getFullYear();date=today.getUTCDate();month=today.getUTCMonth()+1;minutes=today.getUTCMinutes();hour=today.getUTCHours();// GET TIME FOR CLOSING AND OPENING MARKET -----------------------------------\n//CALC FOR UTC TO EST\nhour=hour-4;// CALC FOR EARLY MORNING HOURS UTC\nif(hour<0){hour=hour+24;}// GET AND ADJUST MINUTES TO ADD 0 BELOW 10\nif(minutes<10){minutes=\"0\".concat(minutes);}time=\"\".concat(hour).concat(minutes);timeNum=parseInt(time);// GET DAY FOR CLOSING AND OPENING MARKET -------------------------------------------\nmarketDay=today.getDay();// CHECK FOR MARKET OPEN - ADJUST DATE SO VWAP STILL PULLS DATA FROM LAST DAY\nif(marketDay==0){date=date-2;// NEED TO CHECK FOR NEW MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\nif(date<=0){if(month==1||month==2||month==4||month==6||month==8||month==9||month==11){// MONTHS AFTER 31 DAYS\nmonth=month-1;if(month<10){month=\"0\".concat(month);}date=30;}else if(month==5||month==7||month==10||month==12){// MONTHS AFTER 30 DAYS\nmonth=month-1;if(month<10){month=\"0\".concat(month);}date=29;}else if(month==3&&year%4==0){// MONTH AFTER 29 DAYS LEAP YEAR\nmonth=month-1;if(month<10){month=\"0\".concat(month);}date=28;}// MONTH AFTER 28\nelse{month=month-1;if(month<10){month=\"0\".concat(month);}date=27;}}}else if(marketDay==6){date=date-1;// NEED TO CHECK FOR NEW MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\nif(date<=0){if(month==1||month==2||month==4||month==6||month==8||month==9||month==11){// MONTHS AFTER 31 DAYS\nmonth=month-1;if(month<10){month=\"0\".concat(month);}date=31;}else if(month==5||month==7||month==10||month==12){// MONTHS AFTER 30 DAYS\nmonth=month-1;if(month<10){month=\"0\".concat(month);}date=30;}else if(month==3&&year%4==0){// MONTH AFTER 29 DAYS LEAP YEAR\nmonth=month-1;if(month<10){month=\"0\".concat(month);}date=29;}// MONTH AFTER 28\nelse{month=month-1;if(month<10){month=\"0\".concat(month);}date=28;}}}// THIS IS TO CHECK FOR MARKET DAY OPEN DURING WEEKENDS WHEN MARKET IS CLOSED\nif(marketDay==1&&timeNum<930){date=date-3;// NEED TO CHECK FOR NEW MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\nif(date<=0){if(month==1||month==2||month==4||month==6||month==8||month==9||month==11){// MONTHS AFTER 31 DAYS\nmonth=month-1;if(month<10){month=\"0\".concat(month);}date=29;}else if(month==5||month==7||month==10||month==12){// MONTHS AFTER 30 DAYS\nmonth=month-1;if(month<10){month=\"0\".concat(month);}date=28;}else if(month==3&&year%4==0){// MONTH AFTER 29 DAYS LEAP YEAR\nmonth=month-1;if(month<10){month=\"0\".concat(month);}date=27;}// MONTH AFTER 28\nelse{month=month-1;if(month<10){month=\"0\".concat(month);}date=26;}}}else if(marketDay>=2&&marketDay<6&&timeNum<930){// ADJUSTS DURING WEEK BEFORE OPEN TO GET DAY BEFORE INDICATORS\ndate=date-1;// NEED TO CHECK FOR NEW MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\nif(date<=0){if(month==1||month==2||month==4||month==6||month==8||month==9||month==11){// MONTHS AFTER 31 DAYS\nmonth=month-1;if(month==0){month=1;}date=31;}else if(month==5||month==7||month==10||month==12){// MONTHS AFTER 30 DAYS\nmonth=month-1;date=30;}else if(month==3&&year%4==0){// MONTH AFTER 29 DAYS LEAP YEAR\nmonth=month-1;date=29;}// MONTH AFTER 28\nelse{month=month-1;date=28;}}}// THIS IS TO CORRECT MISSING 0 ON SINGLE DIGITS OF MONTHS\nif(date<10){date=\"0\".concat(date);}if(month<10){month=\"0\".concat(month);}// DATE CHECK VARIBLE FOR DATA PERIOD PULLS AND TO SLICE FROM\ntodayDate=\"\".concat(year,\"-\").concat(month,\"-\").concat(date);//CHECK FOR HOLIDAYS OR CLOSED MARKET HOLIDAYS\nif(todayDate===\"2021-11-25\"){todayDate=\"2021-11-24\";}else if(todayDate===\"2021-12-24\"){todayDate=\"2021-12-23\";}else if(todayDate===\"2022-01-17\"){todayDate=\"2022-01-14\";}else if(todayDate===\"2022-02-21\"){todayDate=\"2022-02-18\";}else if(todayDate===\"2022-04-15\"){todayDate=\"2022-04-14\";}else if(todayDate===\"2022-05-30\"){todayDate=\"2022-05-27\";}else if(todayDate===\"2022-06-20\"){todayDate=\"2022-06-17\";}else if(todayDate===\"2022-07-04\"){todayDate=\"2022-07-01\";}else if(todayDate===\"2022-09-05\"){todayDate=\"2022-09-02\";}else if(todayDate===\"2022-11-24\"){todayDate=\"2022-11-23\";}else if(todayDate===\"2022-12-26\"){todayDate=\"2022-12-23\";}// THIS IS AN ADJUSTMENT OF DATE FOR MARKET CLOSES EST VS UTC TIME\nnewDateString=todayDate;if(hour+4>=24){dateNumSlice=parseInt(date);dateSliceStart=todayDate.slice(0,8);newDateNum=dateNumSlice-1;if(newDateNum<10){newDateNum=\"0\".concat(newDateNum);}newDateString=\"\".concat(dateSliceStart).concat(newDateNum);newDateString=newDateString.toString();// NEED TO CHECK FOR NEW MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\nif(date==1&&hour+4>=24){if(month==1||month==2||month==4||month==6||month==8||month==9||month==11){// MONTHS AFTER 31 DAYS\nmonth=month-1;if(month<10){month=\"0\".concat(month);}date=31;newDateString=\"\".concat(year,\"-\").concat(month,\"-\").concat(date);}else if(month==5||month==7||month==10||month==12){// MONTHS AFTER 30 DAYS\nmonth=month-1;if(month<10){month=\"0\".concat(month);}date=30;newDateString=\"\".concat(year,\"-\").concat(month,\"-\").concat(date);}else if(month==3&&year%4==0){// MONTH AFTER 29 DAYS LEAP YEAR\nmonth=month-1;if(month<10){month=\"0\".concat(month);}date=29;newDateString=\"\".concat(year,\"-\").concat(month,\"-\").concat(date);}// MONTH AFTER 28\nelse{month=month-1;if(month<10){month=\"0\".concat(month);}date=28;newDateString=\"\".concat(year,\"-\").concat(month,\"-\").concat(date);}}}// ---------------------- END OF DATE -------------------------------------\n// ---------------------- FILTERS TRADABLE SYMBOLS THAT HAVE DROPPED BELOW THE THRESHOLD -------------------------------------\n_context4.next=48;return filterTradableSymbols(arr,technicalIndicators);case 48:returnedData=_context4.sent;emptyPortObj={avgVolume:0,bbLower:0,bbMiddle:0,bbPercent:0,bbUpper:0,cciTwenty:0,change:0,changesPercentage:0,dayHigh:0,dayLow:0,earningsAnnouncement:0,emaEight:0,emaFifty:0,emaTwelve:0,emaTwenty:0,emaTwentySix:0,emaTwoHun:0,eps:0,exchange:0,macd:0,macdHistogram:0,macdSignalLine:0,marketCap:0,name:\"Placeholder for lack of Symbols\",open:0,pe:0,previousClose:0,price:0,priceAvg50:0,priceAvg200:0,rsi:0,sharesOutstanding:0,smaFifty:0,smaFiveTeen:0,smaOneHun:0,smaThirty:0,smaTwenty:0,smaTwoHun:0,stochasticD:0,stochasticK:0,stochasticSignal:0,symbol:\"Empty\",timestamp:0,volume:0,vwap:0,vwmaFifty:0,vwmaFiveTeen:0,vwmaOneHun:0,vwmaThirty:0,vwmaTwenty:0,vwmaTwoHun:0,williamsR:0,wmaFifty:0,wmaFiveTeen:0,wmaOneHun:0,wmaThirty:0,wmaTwenty:0,wmaTwoHun:0,yearHigh:0,yearLow:0,yesterdayVolume:0};if(returnedData.length<10){while(returnedData.length<10){returnedData.push(emptyPortObj);}}return _context4.abrupt(\"return\",returnedData);case 52:case\"end\":return _context4.stop();}}},_callee4);}));return function technicalPortfolioAnalysis(_x){return _ref.apply(this,arguments);};}();","map":{"version":3,"sources":["/Users/austinolijar/Desktop/DeadCatReact/dead-cat/src/JS/APIPortfolioFunction.js"],"names":["technicalPortfolioAnalysis","arr","filterTradableSymbols","smaFunction","wmaFunction","vwmaFunction","emaFunction","macdFunction","rsiFunction","stochOsc1433Function","williamsRFunction","cciFunction","bollingerBandsFunction","vwapFunction","setVolume","technicalIndicators","buildSearchTech","i","length","symbol","price","change","changesPercentage","avgVolume","volume","yesterdayVolume","vwap","smaFiveTeen","smaTwenty","smaThirty","smaFifty","smaOneHun","smaTwoHun","emaEight","emaTwelve","emaTwenty","emaTwentySix","emaFifty","emaTwoHun","wmaFiveTeen","wmaTwenty","wmaThirty","wmaFifty","wmaOneHun","wmaTwoHun","vwmaFiveTeen","vwmaTwenty","vwmaThirty","vwmaFifty","vwmaOneHun","vwmaTwoHun","macd","macdHistogram","macdSignalLine","rsi","stochasticD","stochasticK","stochasticSignal","cciTwenty","bbMiddle","bbLower","bbUpper","bbPercent","williamsR","directionArrow","toFixed","volumeIncrease","increase","decrease","yesterdayVolIncrease","isNaN","undefined","volumeIncreaseToday","volumeIncreaseYesterday","volumeYesterday","returnedData","portfolioArr","callback","j","fetch","resSMA","json","dataSMA","Object","keys","console","log","e","resOscPulled","dataRecentPulled","resVWAP","dataVWAP","chartArr","dataPull","newestPull","num","historical","marketDay","timeNum","dayLengthPeriod","tpvCul","volumeCul","tempVWAP","date","slice","newDateString","high","close","low","tpv","vwapFinal","unshift","smaCul","closeHolder","newPrice","closeP","push","priceAdj","map","x","priceAdjAbs","Math","abs","priceAdjSqrt","partOneDev","reduce","a","b","partTwoDev","standardDev","sqrt","tpvMa","tpvCurrent","recentTpv","partOne","meanD","meanDMap","meanDSum","meanDiv","partTwo","cci","highs","lows","lowestLow","highestHigh","williams","min","max","iSO","soLowHolder","soHighHolder","topForm","bottomForm","topFormTwo","bottomFormTwo","topFormThree","bottomFormThree","signalLineHolder","sumTop","sumBottom","slowD","sumStochD","smaD","iRSI","iRSIAdjusted","recentUpper","recentDowner","upMove","downMove","pastDownPeriod","pastUpPeriod","averageUp","averageDown","arr1","arr2","averageMacd","iMacd","averageSum","finalAverageMacd","histogram","macdCallBack","prevDayEmaSub","arrEma","macdTwelve","macdTwentySix","subEMA","finalSubEma","derp","pop","finalEma","newVol","volCul","totalCul","weight","wmaInterval","iWma","wmaCul","culSMA","fiveTeenSMA","twentySMA","thirtySMA","fiftySMA","hunSMA","twoHunSMA","todayPricePull","smaFiveResult","smaTwentyResult","smaThirtyResult","smaFiftyResult","smaOneHunResult","smaTwoHunResult","portArr","res","dataNyse","resTwo","dataNas","concat","combinedStock","holderArr","alert","today","Date","year","getFullYear","getUTCDate","month","getUTCMonth","minutes","getUTCMinutes","hour","getUTCHours","time","parseInt","getDay","todayDate","dateNumSlice","dateSliceStart","newDateNum","toString","emptyPortObj","dayHigh","dayLow","earningsAnnouncement","eps","exchange","marketCap","name","open","pe","previousClose","priceAvg50","priceAvg200","sharesOutstanding","timestamp","yearHigh","yearLow"],"mappings":"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","sourcesContent":["export const technicalPortfolioAnalysis = async (arr) => {\n  // CHECKING ON PORTFOLIO TO MAKE SURE IT HAS SOMETHING ----------------------------------\n  if (arr === null) {\n    alert(\"Sorry, your portfolio seems to be malfunctioning.\");\n    return [];\n  } else if (arr.length <= 0) {\n    alert(\"Sorry, your portfolio seems to be malfunctioning.\");\n    return [];\n  }\n\n  /// DATE REFERENCE FOR MARKET DATA PULLS ----------------------------------------==============\n  const today = new Date();\n  const year = today.getFullYear();\n  let date = today.getUTCDate();\n  let month = today.getUTCMonth() + 1;\n  let minutes = today.getUTCMinutes();\n  let hour = today.getUTCHours();\n  // GET TIME FOR CLOSING AND OPENING MARKET -----------------------------------\n\n  //CALC FOR UTC TO EST\n  hour = hour - 4;\n  // CALC FOR EARLY MORNING HOURS UTC\n  if (hour < 0) {\n    hour = hour + 24;\n  }\n\n  // GET AND ADJUST MINUTES TO ADD 0 BELOW 10\n  if (minutes < 10) {\n    minutes = `0${minutes}`;\n  }\n  const time = `${hour}${minutes}`;\n  const timeNum = parseInt(time);\n\n  // GET DAY FOR CLOSING AND OPENING MARKET -------------------------------------------\n  const marketDay = today.getDay();\n  // CHECK FOR MARKET OPEN - ADJUST DATE SO VWAP STILL PULLS DATA FROM LAST DAY\n  if (marketDay == 0) {\n    date = date - 2;\n    // NEED TO CHECK FOR NEW MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\n    if (date <= 0) {\n      if (\n        month == 1 ||\n        month == 2 ||\n        month == 4 ||\n        month == 6 ||\n        month == 8 ||\n        month == 9 ||\n        month == 11\n      ) {\n        // MONTHS AFTER 31 DAYS\n        month = month - 1;\n        if (month < 10) {\n          month = `0${month}`;\n        }\n        date = 30;\n      } else if (month == 5 || month == 7 || month == 10 || month == 12) {\n        // MONTHS AFTER 30 DAYS\n        month = month - 1;\n        if (month < 10) {\n          month = `0${month}`;\n        }\n        date = 29;\n      } else if (month == 3 && year % 4 == 0) {\n        // MONTH AFTER 29 DAYS LEAP YEAR\n        month = month - 1;\n        if (month < 10) {\n          month = `0${month}`;\n        }\n        date = 28;\n      } // MONTH AFTER 28\n      else {\n        month = month - 1;\n        if (month < 10) {\n          month = `0${month}`;\n        }\n        date = 27;\n      }\n    }\n  } else if (marketDay == 6) {\n    date = date - 1;\n    // NEED TO CHECK FOR NEW MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\n    if (date <= 0) {\n      if (\n        month == 1 ||\n        month == 2 ||\n        month == 4 ||\n        month == 6 ||\n        month == 8 ||\n        month == 9 ||\n        month == 11\n      ) {\n        // MONTHS AFTER 31 DAYS\n        month = month - 1;\n        if (month < 10) {\n          month = `0${month}`;\n        }\n        date = 31;\n      } else if (month == 5 || month == 7 || month == 10 || month == 12) {\n        // MONTHS AFTER 30 DAYS\n        month = month - 1;\n        if (month < 10) {\n          month = `0${month}`;\n        }\n        date = 30;\n      } else if (month == 3 && year % 4 == 0) {\n        // MONTH AFTER 29 DAYS LEAP YEAR\n        month = month - 1;\n        if (month < 10) {\n          month = `0${month}`;\n        }\n        date = 29;\n      } // MONTH AFTER 28\n      else {\n        month = month - 1;\n        if (month < 10) {\n          month = `0${month}`;\n        }\n        date = 28;\n      }\n    }\n  }\n  // THIS IS TO CHECK FOR MARKET DAY OPEN DURING WEEKENDS WHEN MARKET IS CLOSED\n  if (marketDay == 1 && timeNum < 930) {\n    date = date - 3;\n    // NEED TO CHECK FOR NEW MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\n    if (date <= 0) {\n      if (\n        month == 1 ||\n        month == 2 ||\n        month == 4 ||\n        month == 6 ||\n        month == 8 ||\n        month == 9 ||\n        month == 11\n      ) {\n        // MONTHS AFTER 31 DAYS\n        month = month - 1;\n        if (month < 10) {\n          month = `0${month}`;\n        }\n        date = 29;\n      } else if (month == 5 || month == 7 || month == 10 || month == 12) {\n        // MONTHS AFTER 30 DAYS\n        month = month - 1;\n        if (month < 10) {\n          month = `0${month}`;\n        }\n        date = 28;\n      } else if (month == 3 && year % 4 == 0) {\n        // MONTH AFTER 29 DAYS LEAP YEAR\n        month = month - 1;\n        if (month < 10) {\n          month = `0${month}`;\n        }\n        date = 27;\n      } // MONTH AFTER 28\n      else {\n        month = month - 1;\n        if (month < 10) {\n          month = `0${month}`;\n        }\n        date = 26;\n      }\n    }\n  } else if (marketDay >= 2 && marketDay < 6 && timeNum < 930) {\n    // ADJUSTS DURING WEEK BEFORE OPEN TO GET DAY BEFORE INDICATORS\n    date = date - 1;\n    // NEED TO CHECK FOR NEW MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\n    if (date <= 0) {\n      if (\n        month == 1 ||\n        month == 2 ||\n        month == 4 ||\n        month == 6 ||\n        month == 8 ||\n        month == 9 ||\n        month == 11\n      ) {\n        // MONTHS AFTER 31 DAYS\n        month = month - 1;\n        if (month == 0) {\n          month = 1;\n        }\n        date = 31;\n      } else if (month == 5 || month == 7 || month == 10 || month == 12) {\n        // MONTHS AFTER 30 DAYS\n        month = month - 1;\n        date = 30;\n      } else if (month == 3 && year % 4 == 0) {\n        // MONTH AFTER 29 DAYS LEAP YEAR\n        month = month - 1;\n        date = 29;\n      } // MONTH AFTER 28\n      else {\n        month = month - 1;\n        date = 28;\n      }\n    }\n  }\n\n  // THIS IS TO CORRECT MISSING 0 ON SINGLE DIGITS OF MONTHS\n  if (date < 10) {\n    date = `0${date}`;\n  }\n  if (month < 10) {\n    month = `0${month}`;\n  }\n\n  // DATE CHECK VARIBLE FOR DATA PERIOD PULLS AND TO SLICE FROM\n  let todayDate = `${year}-${month}-${date}`;\n  //CHECK FOR HOLIDAYS OR CLOSED MARKET HOLIDAYS\n  if (todayDate === \"2021-11-25\") {\n    todayDate = \"2021-11-24\";\n  } else if (todayDate === \"2021-12-24\") {\n    todayDate = \"2021-12-23\";\n  } else if (todayDate === \"2022-01-17\") {\n    todayDate = \"2022-01-14\";\n  } else if (todayDate === \"2022-02-21\") {\n    todayDate = \"2022-02-18\";\n  } else if (todayDate === \"2022-04-15\") {\n    todayDate = \"2022-04-14\";\n  } else if (todayDate === \"2022-05-30\") {\n    todayDate = \"2022-05-27\";\n  } else if (todayDate === \"2022-06-20\") {\n    todayDate = \"2022-06-17\";\n  } else if (todayDate === \"2022-07-04\") {\n    todayDate = \"2022-07-01\";\n  } else if (todayDate === \"2022-09-05\") {\n    todayDate = \"2022-09-02\";\n  } else if (todayDate === \"2022-11-24\") {\n    todayDate = \"2022-11-23\";\n  } else if (todayDate === \"2022-12-26\") {\n    todayDate = \"2022-12-23\";\n  }\n  // THIS IS AN ADJUSTMENT OF DATE FOR MARKET CLOSES EST VS UTC TIME\n  let newDateString = todayDate;\n\n  if (hour + 4 >= 24) {\n    const dateNumSlice = parseInt(date);\n    const dateSliceStart = todayDate.slice(0, 8);\n    let newDateNum = dateNumSlice - 1;\n    if (newDateNum < 10) {\n      newDateNum = `0${newDateNum}`;\n    }\n    newDateString = `${dateSliceStart}${newDateNum}`;\n    newDateString = newDateString.toString();\n    // NEED TO CHECK FOR NEW MONTH CHANGE OVER FROM UTC TIME TO ADJUST FOR EST\n    if (date == 1 && hour + 4 >= 24) {\n      if (\n        month == 1 ||\n        month == 2 ||\n        month == 4 ||\n        month == 6 ||\n        month == 8 ||\n        month == 9 ||\n        month == 11\n      ) {\n        // MONTHS AFTER 31 DAYS\n        month = month - 1;\n        if (month < 10) {\n          month = `0${month}`;\n        }\n        date = 31;\n        newDateString = `${year}-${month}-${date}`;\n      } else if (month == 5 || month == 7 || month == 10 || month == 12) {\n        // MONTHS AFTER 30 DAYS\n        month = month - 1;\n        if (month < 10) {\n          month = `0${month}`;\n        }\n        date = 30;\n        newDateString = `${year}-${month}-${date}`;\n      } else if (month == 3 && year % 4 == 0) {\n        // MONTH AFTER 29 DAYS LEAP YEAR\n        month = month - 1;\n        if (month < 10) {\n          month = `0${month}`;\n        }\n        date = 29;\n        newDateString = `${year}-${month}-${date}`;\n      } // MONTH AFTER 28\n      else {\n        month = month - 1;\n        if (month < 10) {\n          month = `0${month}`;\n        }\n        date = 28;\n        newDateString = `${year}-${month}-${date}`;\n      }\n    }\n  }\n\n  // ---------------------- END OF DATE -------------------------------------\n\n  // ---------------------- FILTERS TRADABLE SYMBOLS THAT HAVE DROPPED BELOW THE THRESHOLD -------------------------------------\n  async function filterTradableSymbols(portArr, callback) {\n    try {\n      // ------ FETCH NYSE\n      const res = await fetch(\n        \"https://financialmodelingprep.com/api/v3/quotes/nyse?apikey=4d4593bc9e6bc106ee9d1cbd6400b218\"\n      );\n      const dataNyse = await res.json();\n\n      // ------ FETCH NASDAQ\n      const resTwo = await fetch(\n        \"https://financialmodelingprep.com/api/v3/quotes/nasdaq?apikey=4d4593bc9e6bc106ee9d1cbd6400b218\"\n      );\n      const dataNas = await resTwo.json();\n\n      // FILTER THESE STOCKS DOWN TO JUST WHAT IS IN PORTFOLIO\n      const combinedStock = await dataNyse.concat(dataNas);\n      // IN ANOTHER FUNCTION MAKE THE FILTER TO MATCH PORTFOLIO ARR\n\n      // GETTING INFO FOR PORTFOLIO STOCK ===========================\n\n      var holderArr = [];\n      for (let i = 0; i < portArr.length; i++) {\n        for (let j = 0; j < combinedStock.length; j++) {\n          if (portArr[i].symbol === combinedStock[j].symbol) {\n            holderArr.push(combinedStock[j]);\n          }\n        }\n      }\n\n      //--------- CATCH\n    } catch (e) {}\n    const returnedData = await callback(holderArr, technicalIndicators);\n    return returnedData;\n  }\n\n  // ---------------------- TECHNICAL INDICATOR FUNCTIONS ------------------------------------------------------------------------------------\n\n  // SMA FUNCTION ------------------------------------------------------------------------------------------------------------------------------------------\n  function smaFunction(chartArr, dataPull, newestPull, num) {\n    let culSMA = 0;\n\n    // ------- SMA INDEX IS - 2 FROM TOTAL BECAUSE OF 0 INDEX = 1 AND ADDING RECENT PRICE DATA --------------------\n    let fiveTeenSMA = 13;\n    let twentySMA = 18;\n    let thirtySMA = 28;\n    let fiftySMA = 48;\n    let hunSMA = 98;\n    let twoHunSMA = 198;\n\n    try {\n      const todayPricePull = newestPull[0].price;\n      // ------------- 15 DAY SMA -------------------------------\n      if (dataPull.historical.length <= 13) {\n        chartArr[num].smaFiveTeen = \"No Data\";\n      } else {\n        while (fiveTeenSMA >= 0) {\n          culSMA += dataPull.historical[fiveTeenSMA].close;\n          fiveTeenSMA--;\n        }\n        let smaFiveResult = (culSMA + todayPricePull) / 15;\n        chartArr[num].smaFiveTeen = smaFiveResult.toFixed(2);\n        culSMA = 0;\n      }\n      // ------------- 20 DAY SMA -------------------------------\n      if (dataPull.historical.length <= 19) {\n        chartArr[num].smaTwenty = \"No Data\";\n      } else {\n        while (twentySMA >= 0) {\n          culSMA += dataPull.historical[twentySMA].close;\n          twentySMA--;\n        }\n        let smaTwentyResult = (culSMA + todayPricePull) / 20;\n        chartArr[num].smaTwenty = smaTwentyResult.toFixed(2);\n        culSMA = 0;\n      }\n      // ------------- 30 DAY SMA -------------------------------\n      if (dataPull.historical.length <= 29) {\n        chartArr[num].smaThirty = \"No Data\";\n      } else {\n        while (thirtySMA >= 0) {\n          culSMA += dataPull.historical[thirtySMA].close;\n          thirtySMA--;\n        }\n        let smaThirtyResult = (culSMA + todayPricePull) / 30;\n        chartArr[num].smaThirty = smaThirtyResult.toFixed(2);\n        culSMA = 0;\n      }\n      // ------------- 50 DAY SMA -------------------------------\n      if (dataPull.historical.length <= 49) {\n        chartArr[num].smaFifty = \"No Data\";\n      } else {\n        while (fiftySMA >= 0) {\n          culSMA += dataPull.historical[fiftySMA].close;\n          fiftySMA--;\n        }\n        let smaFiftyResult = (culSMA + todayPricePull) / 50;\n        chartArr[num].smaFifty = smaFiftyResult.toFixed(2);\n        culSMA = 0;\n      }\n      // ------------- 100 DAY SMA -------------------------------\n      if (dataPull.historical.length <= 99) {\n        chartArr[num].smaOneHun = \"No Data\";\n      } else {\n        while (hunSMA >= 0) {\n          culSMA += dataPull.historical[hunSMA].close;\n          hunSMA--;\n        }\n        let smaOneHunResult = (culSMA + todayPricePull) / 100;\n        chartArr[num].smaOneHun = smaOneHunResult.toFixed(2);\n        culSMA = 0;\n      }\n      // ------------- 200 DAY SMA -------------------------------\n      if (dataPull.historical.length <= 199) {\n        chartArr[num].smaTwoHun = \"No Data\";\n      } else {\n        while (twoHunSMA >= 0) {\n          culSMA += dataPull.historical[twoHunSMA].close;\n          twoHunSMA--;\n        }\n        let smaTwoHunResult = (culSMA + todayPricePull) / 200;\n        chartArr[num].smaTwoHun = smaTwoHunResult.toFixed(2);\n        culSMA = 0;\n      }\n    } catch (e) {}\n  }\n  // WMA FUNCTION ------------------------------------------------------------------------------------------------------------------------------------------\n  function wmaFunction(chartArr, dataPull, newestPull, num) {\n    // WMA FiveTeen --------------------------------------------------------------------\n    let weight = 14;\n    let wmaInterval = 0;\n    let iWma = 15;\n    try {\n      let wmaCul = newestPull[0].price * 15;\n\n      if (dataPull.historical.length < 14) {\n        chartArr[num].wmaFiveTeen = \"No Data\";\n      } else {\n        for (let i = 0; i <= 13; i++) {\n          wmaInterval = dataPull.historical[i].close * weight;\n          wmaCul += wmaInterval;\n          iWma += weight;\n          weight--;\n        }\n        const wmaFiveTeen = wmaCul / iWma;\n        chartArr[num].wmaFiveTeen = wmaFiveTeen.toFixed(2);\n      }\n\n      // WMA Twenty --------------------------------------------------------------------\n      wmaCul = newestPull[0].price * 20;\n      weight = 19;\n      wmaInterval = 0;\n      iWma = 20;\n\n      if (dataPull.historical.length < 19) {\n        chartArr[num].wmaTwenty = \"No Data\";\n      } else {\n        for (let i = 0; i <= 18; i++) {\n          wmaInterval = dataPull.historical[i].close * weight;\n          wmaCul += wmaInterval;\n          iWma += weight;\n          weight--;\n        }\n        const wmaTwenty = wmaCul / iWma;\n        chartArr[num].wmaTwenty = wmaTwenty.toFixed(2);\n      }\n\n      // WMA THIRTY --------------------------------------------------------------------\n\n      wmaCul = newestPull[0].price * 30;\n      weight = 29;\n      wmaInterval = 0;\n      iWma = 30;\n\n      if (dataPull.historical.length < 30) {\n        chartArr[num].wmaThirty = \"No Data\";\n      } else {\n        for (let i = 0; i <= 28; i++) {\n          wmaInterval = dataPull.historical[i].close * weight;\n          wmaCul += wmaInterval;\n          iWma += weight;\n          weight--;\n        }\n        const wmaThirty = wmaCul / iWma;\n        chartArr[num].wmaThirty = wmaThirty.toFixed(2);\n      }\n\n      // WMA FIFTY --------------------------------------------------------------------\n\n      wmaCul = newestPull[0].price * 50;\n      weight = 49;\n      wmaInterval = 0;\n      iWma = 50;\n\n      if (dataPull.historical.length < 50) {\n        chartArr[num].wmaFifty = \"No Data\";\n      } else {\n        for (let i = 0; i <= 48; i++) {\n          wmaInterval = dataPull.historical[i].close * weight;\n          wmaCul += wmaInterval;\n          iWma += weight;\n          weight--;\n        }\n        const wmaFifty = wmaCul / iWma;\n        chartArr[num].wmaFifty = wmaFifty.toFixed(2);\n      }\n\n      // WMA ONE HUNDRED --------------------------------------------------------------------\n\n      wmaCul = newestPull[0].price * 100;\n      weight = 99;\n      wmaInterval = 0;\n      iWma = 100;\n\n      if (dataPull.historical.length < 100) {\n        chartArr[num].wmaOneHun = \"No Data\";\n      } else {\n        for (let i = 0; i <= 98; i++) {\n          wmaInterval = dataPull.historical[i].close * weight;\n          wmaCul += wmaInterval;\n          iWma += weight;\n          weight--;\n        }\n        const wmaOneHun = wmaCul / iWma;\n        chartArr[num].wmaOneHun = wmaOneHun.toFixed(2);\n      }\n\n      // WMA TWO HUNDRED --------------------------------------------------------------------\n\n      wmaCul = newestPull[0].price * 200;\n      weight = 199;\n      wmaInterval = 0;\n      iWma = 200;\n\n      if (dataPull.historical.length < 200) {\n        chartArr[num].wmaTwoHun = \"No Data\";\n      } else {\n        for (let i = 0; i <= 198; i++) {\n          wmaInterval = dataPull.historical[i].close * weight;\n          wmaCul += wmaInterval;\n          iWma += weight;\n          weight--;\n        }\n        const wmaTwoHun = wmaCul / iWma;\n        chartArr[num].wmaTwoHun = wmaTwoHun.toFixed(2);\n      }\n    } catch (e) {}\n  }\n  // VWMA FUNCTION ------------------------------------------------------------------------------------------------------------------------------------------\n  function vwmaFunction(chartArr, dataPull, newestPull, num) {\n    // VWMA FIVETEEN --------------------------------------------------------------------\n\n    try {\n      let price = 0;\n      let volume = 0;\n      const newPrice = newestPull[0].price;\n      const newVol = newestPull[0].volume;\n\n      let volCul = newestPull[0].volume;\n      let totalCul = newPrice * newVol;\n\n      if (dataPull.historical.length < 14) {\n        chartArr[num].vwmaFiveTeen = \"No Data\";\n      } else {\n        for (let i = 0; i <= 13; i++) {\n          price = dataPull.historical[i].close;\n          if (price == undefined) {\n            price = 0;\n          }\n          volume = dataPull.historical[i].volume;\n          if (volume == undefined) {\n            volume = 0;\n          }\n          totalCul += price * volume;\n          if (isNaN(totalCul)) {\n            return;\n          }\n          volCul += dataPull.historical[i].volume;\n          if (isNaN(volCul)) {\n            return;\n          }\n        }\n\n        const vwmaFiveTeen = totalCul / volCul;\n\n        chartArr[num].vwmaFiveTeen = vwmaFiveTeen.toFixed(2);\n      }\n\n      // VWMA TWENTY --------------------------------------------------------------------\n\n      volCul = newestPull[0].volume;\n      totalCul = newPrice * newVol;\n      price = 0;\n      volume = 0;\n\n      if (dataPull.historical.length < 19) {\n        chartArr[num].vwmaTwenty = \"No Data\";\n      } else {\n        for (let i = 0; i <= 18; i++) {\n          price = dataPull.historical[i].close;\n          if (price == undefined) {\n            price = 0;\n          }\n          volume = dataPull.historical[i].volume;\n          if (volume == undefined) {\n            volume = 0;\n          }\n          totalCul += price * volume;\n          if (isNaN(totalCul)) {\n            return;\n          }\n          volCul += dataPull.historical[i].volume;\n          if (isNaN(volCul)) {\n            return;\n          }\n        }\n        const vwmaTwenty = totalCul / volCul;\n\n        chartArr[num].vwmaTwenty = vwmaTwenty.toFixed(2);\n      }\n\n      // VWMA THIRTY --------------------------------------------------------------------\n\n      volCul = newestPull[0].volume;\n      totalCul = newPrice * newVol;\n      price = 0;\n      volume = 0;\n\n      if (dataPull.historical.length < 29) {\n        chartArr[num].vwmaThirty = \"No Data\";\n      } else {\n        for (let i = 0; i <= 28; i++) {\n          price = dataPull.historical[i].close;\n          if (price == undefined) {\n            price = 0;\n          }\n          volume = dataPull.historical[i].volume;\n          if (volume == undefined) {\n            volume = 0;\n          }\n          totalCul += price * volume;\n          if (isNaN(totalCul)) {\n            return;\n          }\n          volCul += dataPull.historical[i].volume;\n          if (isNaN(volCul)) {\n            return;\n          }\n        }\n        const vwmaThirty = totalCul / volCul;\n        chartArr[num].vwmaThirty = vwmaThirty.toFixed(2);\n      }\n\n      // VWMA FIFTY --------------------------------------------------------------------\n\n      volCul = newestPull[0].volume;\n      totalCul = newPrice * newVol;\n      price = 0;\n      volume = 0;\n\n      if (dataPull.historical.length < 49) {\n        chartArr[num].vwmaFifty = \"No Data\";\n      } else {\n        for (let i = 0; i <= 48; i++) {\n          price = dataPull.historical[i].close;\n          if (price == undefined) {\n            price = 0;\n          }\n          volume = dataPull.historical[i].volume;\n          if (volume == undefined) {\n            volume = 0;\n          }\n          totalCul += price * volume;\n          if (isNaN(totalCul)) {\n            return;\n          }\n          volCul += dataPull.historical[i].volume;\n          if (isNaN(volCul)) {\n            return;\n          }\n        }\n        const vwmaFifty = totalCul / volCul;\n        chartArr[num].vwmaFifty = vwmaFifty.toFixed(2);\n      }\n\n      // VWMA ONEHUN --------------------------------------------------------------------\n\n      volCul = newestPull[0].volume;\n      totalCul = newPrice * newVol;\n      price = 0;\n      volume = 0;\n\n      if (dataPull.historical.length < 99) {\n        chartArr[num].vwmaOneHun = \"No Data\";\n      } else {\n        for (let i = 0; i <= 98; i++) {\n          price = dataPull.historical[i].close;\n          if (price == undefined) {\n            price = 0;\n          }\n          volume = dataPull.historical[i].volume;\n          if (volume == undefined) {\n            volume = 0;\n          }\n          totalCul += price * volume;\n          if (isNaN(totalCul)) {\n            return;\n          }\n          volCul += dataPull.historical[i].volume;\n          if (isNaN(volCul)) {\n            return;\n          }\n        }\n        const vwmaOneHun = totalCul / volCul;\n        chartArr[num].vwmaOneHun = vwmaOneHun.toFixed(2);\n      }\n\n      // VWMA TWOHUN --------------------------------------------------------------------\n\n      volCul = newestPull[0].volume;\n      totalCul = newPrice * newVol;\n      price = 0;\n      volume = 0;\n\n      if (dataPull.historical.length < 199) {\n        chartArr[num].vwmaTwoHun = \"No Data\";\n      } else {\n        for (let i = 0; i <= 198; i++) {\n          price = dataPull.historical[i].close;\n          if (price == undefined) {\n            price = 0;\n          }\n          volume = dataPull.historical[i].volume;\n          if (volume == undefined) {\n            volume = 0;\n          }\n          totalCul += price * volume;\n          if (isNaN(totalCul)) {\n            return;\n          }\n          volCul += dataPull.historical[i].volume;\n          if (isNaN(volCul)) {\n            return;\n          }\n        }\n        const vwmaTwoHun = totalCul / volCul;\n        chartArr[num].vwmaTwoHun = vwmaTwoHun.toFixed(2);\n      }\n    } catch (e) {}\n  }\n  // EMA FUNCTION ------------------------------------------------------------------------------------------------------------------------------------------\n  function emaFunction(chartArr, dataPull, newestPull, num, macdCallBack) {\n    let emaEight = 14;\n    let emaTwelve = 22;\n    let emaTwenty = 38;\n    let emaTwentySix = 50;\n    let emaFifty = 98;\n    let emaTwoHun = 398;\n    let prevDayEmaSub = 0;\n    let arrEma = [];\n\n    let macdTwelve = []; // ARRs USED FOR MACD TWELVE HISTORY\n    let macdTwentySix = []; // ARRs USED FOR MACD TWENTY SIX HISTORY\n\n    try {\n      const newPrice = newestPull[0].price;\n\n      // EMA EIGHT ----------------------------------------------------------------------\n      if (dataPull.historical.length <= 16) {\n        chartArr[num].emaEight = \"No Data\";\n      } else {\n        while (emaEight >= 15) {\n          prevDayEmaSub += dataPull.historical[emaEight].close;\n          emaEight--;\n        } //CALCULATE EMA HERE TO GET PREVIOUS DAY EMA FOR ACCURATE CURRENT EMA\n        const subEMA = prevDayEmaSub / 8;\n        //THIS GETS AN EMA USING SMA AS PREV EMA ----------------------------\n        const finalSubEma =\n          (2 / 9) * (dataPull.historical[emaEight].close - subEMA) + subEMA;\n        arrEma.unshift(finalSubEma);\n        emaEight--;\n        while (emaEight >= 0) {\n          let derp =\n            (2 / 9) * (dataPull.historical[emaEight].close - arrEma[0]) +\n            arrEma[0];\n          arrEma.unshift(derp);\n          arrEma.pop();\n          emaEight--;\n        }\n\n        const finalEma = (2 / 9) * (newPrice - arrEma[0]) + arrEma[0];\n        arrEma.unshift(finalEma);\n        arrEma.pop();\n\n        chartArr[num].emaEight = arrEma[0].toFixed(2);\n        arrEma.pop();\n        prevDayEmaSub = 0;\n      }\n      // EMA TWELVE ----------------------------------------------------------------------\n      if (dataPull.historical.length <= 24) {\n        chartArr[num].emaTwelve = \"No Data\";\n      } else {\n        while (emaTwelve >= 11) {\n          prevDayEmaSub += dataPull.historical[emaTwelve].close;\n          emaTwelve--;\n        } //CALCULATE EMA HERE TO GET PREVIOUS DAY EMA FOR ACCURATE CURRENT EMA\n\n        const subEMA = prevDayEmaSub / 12;\n        //THIS GETS AN EMA USING SMA AS PREV EMA ----------------------------\n        const finalSubEma =\n          (2 / 13) * (dataPull.historical[emaTwelve].close - subEMA) + subEMA;\n        arrEma.unshift(finalSubEma);\n        emaTwelve--;\n\n        while (emaTwelve >= 0) {\n          let derp =\n            (2 / 13) * (dataPull.historical[emaTwelve].close - arrEma[0]) +\n            arrEma[0];\n          arrEma.unshift(derp);\n          arrEma.pop();\n          if (emaTwelve < 8 && emaTwelve >= 0) {\n            //THIS IF STATEMENT IS TO STORE VARIABLES FOR LATER MACD SIGNAL LINE\n            macdTwelve.unshift(derp);\n          }\n          emaTwelve--;\n        }\n\n        const finalEma = (2 / 13) * (newPrice - arrEma[0]) + arrEma[0];\n        arrEma.unshift(finalEma);\n        arrEma.pop();\n        macdTwelve.unshift(finalEma);\n\n        chartArr[num].emaTwelve = arrEma[0].toFixed(2);\n        arrEma.pop();\n        prevDayEmaSub = 0;\n      }\n\n      // EMA TWENTY ----------------------------------------------------------------------\n      if (dataPull.historical.length <= 40) {\n        chartArr[num].emaTwenty = \"No Data\";\n      } else {\n        while (emaTwenty >= 19) {\n          prevDayEmaSub += dataPull.historical[emaTwenty].close;\n          emaTwenty--;\n        } //CALCULATE EMA HERE TO GET PREVIOUS DAY EMA FOR ACCURATE CURRENT EMA\n        const subEMA = prevDayEmaSub / 20;\n        //THIS GETS AN EMA USING SMA AS PREV EMA ----------------------------\n        const finalSubEma =\n          (2 / 21) * (dataPull.historical[emaTwenty].close - subEMA) + subEMA;\n        arrEma.unshift(finalSubEma);\n        emaTwenty--;\n        while (emaTwenty >= 0) {\n          let derp =\n            (2 / 21) * (dataPull.historical[emaTwenty].close - arrEma[0]) +\n            arrEma[0];\n          arrEma.unshift(derp);\n          arrEma.pop();\n          emaTwenty--;\n        }\n\n        const finalEma = (2 / 21) * (newPrice - arrEma[0]) + arrEma[0];\n        arrEma.unshift(finalEma);\n        arrEma.pop();\n\n        chartArr[num].emaTwenty = arrEma[0].toFixed(2);\n        arrEma.pop();\n        prevDayEmaSub = 0;\n      }\n\n      // EMA TWENTY SIX ----------------------------------------------------------------------\n\n      if (dataPull.historical.length <= 51) {\n        chartArr[num].emaTwentySix = \"No Data\";\n      } else {\n        while (emaTwentySix >= 25) {\n          prevDayEmaSub += dataPull.historical[emaTwentySix].close;\n          emaTwentySix--;\n        } //CALCULATE EMA HERE TO GET PREVIOUS DAY EMA FOR ACCURATE CURRENT EMA\n        const subEMA = prevDayEmaSub / 26;\n        //THIS GETS AN EMA USING SMA AS PREV EMA ----------------------------\n        const finalSubEma =\n          (2 / 27) * (dataPull.historical[emaTwentySix].close - subEMA) +\n          subEMA;\n        arrEma.unshift(finalSubEma);\n        emaTwentySix--;\n        while (emaTwentySix >= 0) {\n          let derp =\n            (2 / 27) * (dataPull.historical[emaTwentySix].close - arrEma[0]) +\n            arrEma[0];\n          arrEma.unshift(derp);\n          arrEma.pop();\n          if (emaTwentySix < 8 && emaTwentySix >= 0) {\n            //THIS IF STATEMENT IS TO STORE VARIABLES FOR LATER MACD SIGNAL LINE\n            macdTwentySix.unshift(derp);\n          }\n          emaTwentySix--;\n        }\n\n        const finalEma = (2 / 27) * (newPrice - arrEma[0]) + arrEma[0];\n        arrEma.unshift(finalEma);\n        arrEma.pop();\n        macdTwentySix.unshift(finalEma);\n\n        chartArr[num].emaTwentySix = arrEma[0].toFixed(2);\n        arrEma.pop();\n        prevDayEmaSub = 0;\n      }\n\n      // EMA FIFTY -----------------------------------------------------------------------------\n\n      if (dataPull.historical.length <= 100) {\n        chartArr[num].emaFifty = \"No Data\";\n      } else {\n        while (emaFifty >= 49) {\n          prevDayEmaSub += dataPull.historical[emaFifty].close;\n          emaFifty--;\n        } //CALCULATE EMA HERE TO GET PREVIOUS DAY EMA FOR ACCURATE CURRENT EMA\n        const subEMA = prevDayEmaSub / 50;\n        //THIS GETS AN EMA USING SMA AS PREV EMA ----------------------------\n        const finalSubEma =\n          (2 / 51) * (dataPull.historical[emaFifty].close - subEMA) + subEMA;\n        arrEma.unshift(finalSubEma);\n        emaFifty--;\n        while (emaFifty >= 0) {\n          let derp =\n            (2 / 51) * (dataPull.historical[emaFifty].close - arrEma[0]) +\n            arrEma[0];\n          arrEma.unshift(derp);\n          arrEma.pop();\n          emaFifty--;\n        }\n\n        const finalEma = (2 / 51) * (newPrice - arrEma[0]) + arrEma[0];\n        arrEma.unshift(finalEma);\n        arrEma.pop();\n\n        chartArr[num].emaFifty = arrEma[0].toFixed(2);\n        arrEma.pop();\n        prevDayEmaSub = 0;\n      }\n\n      // EMA TWO HUNDRED -----------------------------------------------------------------------------\n\n      if (dataPull.historical.length <= 400) {\n        chartArr[num].emaTwoHun = \"No Data\";\n      } else {\n        while (emaTwoHun >= 199) {\n          prevDayEmaSub += dataPull.historical[emaTwoHun].close;\n          emaTwoHun--;\n        } //CALCULATE EMA HERE TO GET PREVIOUS DAY EMA FOR ACCURATE CURRENT EMA\n        const subEMA = prevDayEmaSub / 200;\n        //THIS GETS AN EMA USING SMA AS PREV EMA ----------------------------\n        const finalSubEma =\n          (2 / 201) * (dataPull.historical[emaTwoHun].close - subEMA) + subEMA;\n        arrEma.unshift(finalSubEma);\n        emaTwoHun--;\n        while (emaTwoHun >= 0) {\n          let derp =\n            (2 / 201) * (dataPull.historical[emaTwoHun].close - arrEma[0]) +\n            arrEma[0];\n          arrEma.unshift(derp);\n          arrEma.pop();\n          emaTwoHun--;\n        }\n\n        const finalEma = (2 / 201) * (newPrice - arrEma[0]) + arrEma[0];\n        arrEma.unshift(finalEma);\n        arrEma.pop();\n\n        chartArr[num].emaTwoHun = arrEma[0].toFixed(2);\n        arrEma.pop();\n        prevDayEmaSub = 0;\n      }\n    } catch (e) {}\n\n    // MACD CALLBACK -----------------------------------------------------------------------------------------------------------------------------------------\n    macdCallBack(chartArr, num, macdTwelve, macdTwentySix);\n  }\n  // MACD FUNCTION -----------------------------------------------------------------------------------------------------------------------------------------\n  function macdFunction(chartArr, num, arr1, arr2) {\n    const macd = chartArr[num].emaTwelve - chartArr[num].emaTwentySix;\n    chartArr[num].macd = macd.toFixed(2);\n    // CALCULATE SIGNAL LINE ----------------\n    let averageMacd = [];\n    let iMacd = 8;\n\n    try {\n      while (iMacd >= 0) {\n        averageMacd.unshift(arr1[iMacd] - arr2[iMacd]);\n        iMacd--;\n      }\n      let averageSum = averageMacd.reduce((a, b) => a + b);\n      let finalAverageMacd = averageSum / 9;\n      let macdSignalLine =\n        (2 / 9) * (chartArr[num].macd - finalAverageMacd) + finalAverageMacd;\n      chartArr[num].macdSignalLine = macdSignalLine.toFixed(2);\n      // HISTORGRAM CALC ------------------------------------- IF HISTOGRAM GOES FROM NEGATIVE TO POSITIVE IT IS BULLISH\n      let histogram = chartArr[num].macd - chartArr[num].macdSignalLine;\n      chartArr[num].macdHistogram = histogram.toFixed(2);\n      // FOR NO DATA TO PULL FROM\n      if (chartArr[num].macdHistogram === \"NaN\") {\n        chartArr[num].macdHistogram = \"No Data\";\n      }\n      if (chartArr[num].macd === \"NaN\") {\n        chartArr[num].macd = \"No Data\";\n      }\n      if (chartArr[num].macdSignalLine === \"NaN\") {\n        chartArr[num].macdSignalLine = \"No Data\";\n      }\n    } catch (e) {}\n  }\n  // RSI FUNCTION ------------------------------------------------------------------------------------------------------------------------------------------\n  function rsiFunction(chartArr, dataPull, newestPull, num) {\n    let iRSI = 13;\n    let iRSIAdjusted = 14;\n    let recentUpper = 0;\n    let recentDowner = 0;\n    let upMove = 0;\n    let downMove = 0;\n    let pastDownPeriod = 0;\n    let pastUpPeriod = 0;\n\n    try {\n      const newPrice = newestPull[0].price;\n      // CHECK TO SEE IF DATA PULL CAN PULL ENOUGH DATA TO BE EFFECTIVE\n      if (dataPull.historical.length <= 14) {\n        chartArr[num].rsi = \"No Data\";\n      } else {\n        // LOOP FOR AVERAGE\n        while (iRSI >= 0) {\n          if (\n            dataPull.historical[iRSI].close >\n            dataPull.historical[iRSIAdjusted].close\n          ) {\n            upMove +=\n              dataPull.historical[iRSI].close -\n              dataPull.historical[iRSIAdjusted].close;\n          } else {\n            downMove +=\n              dataPull.historical[iRSIAdjusted].close -\n              dataPull.historical[iRSI].close;\n          }\n          iRSI--;\n          iRSIAdjusted--;\n        }\n\n        let averageUp = upMove / 14;\n        let averageDown = downMove / 14;\n\n        // MOST RECENT DIFFERENCE\n        if (newPrice > dataPull.historical[0].close) {\n          recentUpper = newPrice - dataPull.historical[0].close;\n        } else {\n          recentDowner = dataPull.historical[0].close - newPrice;\n        }\n\n        pastUpPeriod = (averageUp * 13 + recentUpper) / 14;\n        pastDownPeriod = (averageDown * 13 + recentDowner) / 14;\n\n        let rsi = 100 - 100 / (1 + pastUpPeriod / pastDownPeriod);\n        chartArr[num].rsi = rsi.toFixed(2);\n      }\n    } catch (e) {}\n  }\n  // STOCHASTIC OSCILLATOR ------------------------------------------------------------------------------------------------------------------------------------------------------------------\n  function stochOsc1433Function(chartArr, dataPull, newestPull, num) {\n    let iSO = 13;\n\n    let soLowHolder = [];\n    let soHighHolder = [];\n    let highestHigh = 0;\n    let lowestLow = 0;\n    // FIRST %D\n    let topForm = [];\n    let bottomForm = [];\n    // SECOND %D\n    let topFormTwo = [];\n    let bottomFormTwo = [];\n    // THIRD %D\n    let topFormThree = [];\n    let bottomFormThree = [];\n    // HOLDING SET OF %D FOR 14 3 3\n    let signalLineHolder = [];\n    try {\n      let newPrice = newestPull[0].price;\n\n      if (dataPull.historical.length < 18) {\n        chartArr[num].stochasticK = \"No Data\";\n      } else {\n        // GETTING HIGHS AND LOWS OF PERIOD------------------------------------------------------\n\n        while (iSO >= 0) {\n          soLowHolder.push(dataPull.historical[iSO].low);\n          soHighHolder.push(dataPull.historical[iSO].high);\n          iSO--;\n        }\n\n        soHighHolder.push(newPrice);\n        soLowHolder.push(newPrice);\n\n        highestHigh = Math.max(...soHighHolder);\n        lowestLow = Math.min(...soLowHolder);\n\n        if (lowestLow === newPrice) {\n          newPrice = dataPull.historical[0].close;\n        }\n\n        if (highestHigh === newPrice) {\n          newPrice = dataPull.historical[0].close;\n        }\n\n        topForm.push(newPrice - lowestLow);\n        bottomForm.push(highestHigh - lowestLow);\n\n        //FOR %K\n        chartArr[num].stochasticK = (\n          ((newPrice - lowestLow) / (highestHigh - lowestLow)) *\n          100\n        ).toFixed(2);\n\n        // RESET HOLDER AND VARs --------------------------------------------------------\n\n        iSO = 14;\n        soLowHolder = [];\n        soHighHolder = [];\n        highestHigh = 0;\n        lowestLow = 0;\n\n        // GETTING HIGHS AND LOWS OF PERIOD-----------------------------------------------\n\n        while (iSO >= 1) {\n          soLowHolder.push(dataPull.historical[iSO].low);\n          soHighHolder.push(dataPull.historical[iSO].high);\n          iSO--;\n        }\n\n        highestHigh = Math.max(...soHighHolder);\n        lowestLow = Math.min(...soLowHolder);\n\n        topForm.push(dataPull.historical[0].close - lowestLow);\n        bottomForm.push(highestHigh - lowestLow);\n\n        topFormTwo.push(dataPull.historical[0].close - lowestLow);\n        bottomFormTwo.push(highestHigh - lowestLow);\n\n        // RESET HOLDER AND VARs ------------------------------------------------\n\n        iSO = 15;\n        soLowHolder = [];\n        soHighHolder = [];\n        highestHigh = 0;\n        lowestLow = 0;\n\n        // GETTING HIGHS AND LOWS OF PERIOD-----------------------------------\n\n        while (iSO >= 2) {\n          soLowHolder.push(dataPull.historical[iSO].low);\n          soHighHolder.push(dataPull.historical[iSO].high);\n          iSO--;\n        }\n        highestHigh = Math.max(...soHighHolder);\n        lowestLow = Math.min(...soLowHolder);\n\n        topForm.push(dataPull.historical[1].close - lowestLow);\n        bottomForm.push(highestHigh - lowestLow);\n\n        topFormTwo.push(dataPull.historical[1].close - lowestLow);\n        bottomFormTwo.push(highestHigh - lowestLow);\n\n        topFormThree.push(dataPull.historical[1].close - lowestLow);\n        bottomFormThree.push(highestHigh - lowestLow);\n\n        // AFTER 3 WE SUM IT UP --------------- TO GET 1 OF THE 3 SMOOTHS FOR 14 3 3------------------------------------------\n\n        let sumTop = topForm.reduce((a, b) => a + b, 0);\n        let sumBottom = bottomForm.reduce((a, b) => a + b, 0);\n\n        let slowD = (sumTop / sumBottom) * 100;\n\n        // FOR %D\n        chartArr[num].stochasticD = (slowD / 3).toFixed(2);\n\n        signalLineHolder.push(slowD);\n\n        //RESET VARS ---------------------------------------------------------------------\n\n        iSO = 16;\n        soLowHolder = [];\n        soHighHolder = [];\n        highestHigh = 0;\n        lowestLow = 0;\n        sumTop = 0;\n        sumBottom = 0;\n        slowD = 0;\n\n        // GETTING HIGHS AND LOWS OF PERIOD------------------------------------------------\n\n        while (iSO >= 3) {\n          soLowHolder.push(dataPull.historical[iSO].low);\n          soHighHolder.push(dataPull.historical[iSO].high);\n          iSO--;\n        }\n        highestHigh = Math.max(...soHighHolder);\n        lowestLow = Math.min(...soLowHolder);\n\n        topFormTwo.push(dataPull.historical[2].close - lowestLow);\n        bottomFormTwo.push(highestHigh - lowestLow);\n\n        topFormThree.push(dataPull.historical[2].close - lowestLow);\n        bottomFormThree.push(highestHigh - lowestLow);\n\n        // AFTER 3 WE SUM IT UP --------------- TO GET 2 OF THE 3 SMOOTHS FOR 14 3 3------------------------------------------\n\n        sumTop = topFormTwo.reduce((a, b) => a + b, 0);\n        sumBottom = bottomFormTwo.reduce((a, b) => a + b, 0);\n\n        slowD = (sumTop / sumBottom) * 100;\n\n        signalLineHolder.push(slowD);\n\n        //RESET VARS ---------------------------------------------\n\n        iSO = 17;\n        soLowHolder = [];\n        soHighHolder = [];\n        highestHigh = 0;\n        lowestLow = 0;\n        sumTop = 0;\n        sumBottom = 0;\n        slowD = 0;\n\n        // GETTING HIGHS AND LOWS OF PERIOD-----------------------------------\n\n        while (iSO >= 4) {\n          soLowHolder.push(dataPull.historical[iSO].low);\n          soHighHolder.push(dataPull.historical[iSO].high);\n          iSO--;\n        }\n        highestHigh = Math.max(...soHighHolder);\n        lowestLow = Math.min(...soLowHolder);\n\n        topFormThree.push(dataPull.historical[3].close - lowestLow);\n        bottomFormThree.push(highestHigh - lowestLow);\n\n        // AFTER 3 WE SUM IT UP --------------- TO GET 3 OF THE 3 SMOOTHS FOR 14 3 3------------------------------------------\n\n        sumTop = topFormThree.reduce((a, b) => a + b, 0);\n        sumBottom = bottomFormThree.reduce((a, b) => a + b, 0);\n\n        slowD = (sumTop / sumBottom) * 100;\n\n        signalLineHolder.push(slowD);\n\n        // ----------- TALLY UP LAST SMOOTHING -------------------------------\n        const sumStochD = signalLineHolder.reduce((a, b) => a + b, 0);\n        let smaD = sumStochD / 3;\n\n        if (smaD < 0) {\n          smaD *= -1;\n          chartArr[num].stochasticSignal = smaD.toFixed(2);\n        } else {\n          chartArr[num].stochasticSignal = smaD.toFixed(2);\n        }\n      }\n    } catch (e) {}\n  }\n  // WILLIAMS %R 14 ------------------------------------------------------------------------------------------------------------------------------------------------------------------\n  function williamsRFunction(chartArr, dataPull, newestPull, num) {\n    let highs = [];\n    let lows = [];\n    let lowestLow = 0;\n    let highestHigh = 0;\n    try {\n      const newPrice = newestPull[0].price;\n\n      if (dataPull.historical.length < 14) {\n        chartArr[num].williams = \"No Data\";\n      } else {\n        for (let i = 0; i <= 13; i++) {\n          highs.push(dataPull.historical[i].high);\n          lows.push(dataPull.historical[i].low);\n        }\n\n        highs.push(newPrice);\n        lows.push(newPrice);\n\n        lowestLow = Math.min(...lows);\n        highestHigh = Math.max(...highs);\n\n        const williams =\n          ((highestHigh - dataPull.historical[0].close) /\n            (highestHigh - lowestLow)) *\n          -100;\n\n        chartArr[num].williamsR = williams.toFixed(2);\n      }\n    } catch (e) {}\n  }\n  // CCI 20 ------------------------------------------------------------------------------------------------------------------------------------------------------------------\n  function cciFunction(chartArr, dataPull, newestPull, num) {\n    let tpvCul = 0;\n    let tpv = [];\n    let tpvMa = 0;\n\n    try {\n      const newPrice = newestPull[0].price;\n      let tpvCurrent = newPrice;\n      const recentTpv = newPrice;\n\n      if (dataPull.historical.length < 19) {\n        chartArr[num].cciTwenty = \"No Data\";\n      } else {\n        for (let i = 0; i <= 19; i++) {\n          const { high, close, low } = dataPull.historical[i];\n          tpv.push(tpvCurrent); // PUSH FIRST NUMBER IN\n          tpvCurrent = (close + high + low) / 3;\n        }\n        // ---- TPV SMA ------------------------\n        tpvCul = tpv.reduce((a, b) => a + b);\n        tpvMa = tpvCul / 20;\n        // TOP HALF OF FORMULA - DIVIDE BY PART TWO\n        const partOne = recentTpv - tpvMa;\n\n        const meanD = tpv.map((x) => x - tpvMa);\n        const meanDMap = meanD.map((x) => Math.abs(x));\n        const meanDSum = meanDMap.reduce((a, b) => a + b);\n        const meanDiv = meanDSum / 20;\n        // PART TWO OF FORMULA --------------\n        const partTwo = meanDiv * 0.015;\n        // CCI ------------------------------\n        const cci = partOne / partTwo;\n\n        chartArr[num].cciTwenty = cci.toFixed(2);\n      }\n    } catch (e) {}\n  }\n  // BOLLINGER BANDS ------------------------------------------------------------------------------------------------------------------------------------------------------------------\n  function bollingerBandsFunction(chartArr, dataPull, newestPull, num) {\n    let smaCul = 0;\n    let closeHolder = [];\n    try {\n      const newPrice = newestPull[0].price;\n\n      if (dataPull.historical.length < 19) {\n        chartArr[num].bbUpper = \"No Data\";\n        chartArr[num].bbLower = \"No Data\";\n        chartArr[num].bbMiddle = \"No Data\";\n      } else {\n        let closeP = newPrice;\n        for (let i = 0; i <= 19; i++) {\n          closeHolder.push(closeP);\n          smaCul += closeP;\n          closeP = dataPull.historical[i].close;\n        }\n        // STANDARD DEVIATION CALC --------------------------------\n        const smaTwenty = smaCul / 20;\n\n        const priceAdj = closeHolder.map((x) => x - smaTwenty);\n\n        const priceAdjAbs = priceAdj.map((x) => Math.abs(x));\n\n        const priceAdjSqrt = priceAdjAbs.map((x) => x * x);\n\n        const partOneDev = priceAdjSqrt.reduce((a, b) => a + b);\n\n        const partTwoDev = partOneDev / 20;\n        const standardDev = Math.sqrt(partTwoDev);\n        // BB BAND CALC --------------------------------------------\n        const bbUpper = smaTwenty + standardDev * 2;\n        const bbLower = smaTwenty - standardDev * 2;\n\n        const bbPercent = (newPrice - bbLower) / (bbUpper - bbLower);\n\n        chartArr[num].bbUpper = bbUpper.toFixed(2);\n        chartArr[num].bbLower = bbLower.toFixed(2);\n        chartArr[num].bbMiddle = smaTwenty.toFixed(2);\n        chartArr[num].bbPercent = bbPercent.toFixed(2);\n      }\n    } catch (e) {}\n  }\n  // VWAP FUNCTION ------------------------------------------------------------------------------------------------------------------------------------------\n  function vwapFunction(chartArr, dataPull, num) {\n    // ----------- VWAP CALUC -------------------------------------------\n    let dayLengthPeriod = 0;\n    let tpvCul = 0;\n    let volumeCul = 0;\n    let tempVWAP = []; // HOLD VWAP PERIOD - TAKES FROM 0 INDEX FOR MOST CURRENT\n\n    try {\n      // -------------THIS IS FOR GETTING THE DAY LENGTH FOR VWAP\n      while (dataPull[dayLengthPeriod].date.slice(0, 10) == newDateString) {\n        dayLengthPeriod++;\n      }\n\n      // --------------------THIS IS FOR CALCULATING THE VWAP AND PUSHING TO\n\n      for (let i = 0; i < dayLengthPeriod; i++) {\n        const { volume, high, close, low, date } = dataPull[i];\n        let tpv = (high + low + close) / 3;\n        if (date.slice(0, 10) == newDateString) {\n          tpvCul += tpv * volume;\n          volumeCul += volume;\n        }\n        var vwapFinal = tpvCul / volumeCul; // --------- THIS IS VWAP!!!!!!!!\n        tempVWAP.unshift(vwapFinal); //ADD VWAP FRONT OF ARR\n      }\n      let vwap = tempVWAP[0].toFixed(2);\n      chartArr[num].vwap = vwap;\n    } catch (e) {}\n  }\n  // SET VOLUME FOR LATER\n  function setVolume(chartArr, dataPull, newestPull, num) {\n    // SET RECENT YESTERDAY VOLUME\n    try {\n      if (dataPull.historical.length <= 0) {\n        chartArr[num].yesterdayVolume = 0;\n      } else {\n        chartArr[num].yesterdayVolume = dataPull.historical[0].volume;\n        if (marketDay == 0 || marketDay == 6) {\n          chartArr[num].yesterdayVolume = dataPull.historical[1].volume;\n        }\n\n        if (marketDay >= 1 && marketDay <= 5 && timeNum < 930) {\n          chartArr[num].yesterdayVolume = dataPull.historical[1].volume;\n        }\n\n        if (timeNum > 1830) {\n          chartArr[num].yesterdayVolume = dataPull.historical[1].volume;\n        }\n      }\n      if (newestPull.length < 0) {\n        chartArr[num].volume = 0;\n      } else {\n        // SET RECENT VOLUME\n        chartArr[num].volume = newestPull[0].volume;\n      }\n    } catch (e) {}\n  }\n\n  // TA INTO OBJECTS FUNCTIONS ---------------------------------------------------------------------\n  async function technicalIndicators(portfolioArr, callback) {\n    let j = 0;\n\n    while (j < portfolioArr.length) {\n      // LOOP FOR TECHNICAL SYMBOL\n\n      // THIS IS THE ALL MIGHTY SYMBOL USED FOR PULLS\n      const { symbol } = portfolioArr[j];\n\n      //THIS PULL IS FOR CLOSE PRICES TO CALC TAs PAST CLOSE DATA //\n      const resSMA = await fetch(\n        `https://financialmodelingprep.com/api/v3/historical-price-full/${symbol}?apikey=4d4593bc9e6bc106ee9d1cbd6400b218`\n      );\n      const dataSMA = await resSMA.json(); // SMA PULL USED FOR OTHER CALCS\n      // ERROR CHECK FOR EMPTY PULL\n      try {\n        if (!Object.keys(dataSMA).length) {\n          console.log(\"no SMA Pull data found\");\n        }\n      } catch (e) {}\n\n      //THIS PULL IS FOR OSCILLATORS ALL CURRENT CLOSE DATA\n      const resOscPulled = await fetch(\n        `https://financialmodelingprep.com/api/v3/quote-short/${symbol}?apikey=4d4593bc9e6bc106ee9d1cbd6400b218`\n      );\n      const dataRecentPulled = await resOscPulled.json();\n      // ERROR CHECK FOR EMPTY PULL\n      try {\n        if (!Object.keys(dataRecentPulled).length) {\n          console.log(\"no Recent Pull data found\");\n        }\n      } catch (e) {}\n\n      // VWAP ------------------------------------------------------------------------------------------------------------------------------------------------\n      const resVWAP = await fetch(\n        `https://financialmodelingprep.com/api/v3/historical-chart/5min/${symbol}?apikey=4d4593bc9e6bc106ee9d1cbd6400b218`\n      );\n      const dataVWAP = await resVWAP.json();\n      // ERROR CHECK FOR EMPTY PULL\n      try {\n        if (!Object.keys(dataVWAP).length) {\n          console.log(\"no VWAP Pull data found\");\n        }\n      } catch (e) {}\n\n      // VWAP ------------------------------------------------------------------------------------------------------------------------------------------------\n      vwapFunction(portfolioArr, dataVWAP, j);\n\n      // SMA -----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n      smaFunction(portfolioArr, dataSMA, dataRecentPulled, j);\n\n      // WMA ------------------------------------------------------------------------------------------------------------------------------------------------------------------\n      wmaFunction(portfolioArr, dataSMA, dataRecentPulled, j);\n\n      // VWMA ------------------------------------------------------------------------------------------------------------------------------------------------------------------\n      vwmaFunction(portfolioArr, dataSMA, dataRecentPulled, j);\n\n      // EMA WITH MACD CALLBACK ------------------------------------------------------------------------------------------------------------------------------------------\n      emaFunction(portfolioArr, dataSMA, dataRecentPulled, j, macdFunction);\n\n      // RSI ------------------------------------------------------------------------------------------------------------------------------------------------------------------\n      rsiFunction(portfolioArr, dataSMA, dataRecentPulled, j);\n\n      // STOCHASTIC OSCILLATOR ------------------------------------------------------------------------------------------------------------------------------------------------------------------\n      stochOsc1433Function(portfolioArr, dataSMA, dataRecentPulled, j); //DATA VWAP USED FOR RECETN CLOSE DATA\n\n      // WILLIAMS %R 14 ------------------------------------------------------------------------------------------------------------------------------------------------------------------\n      williamsRFunction(portfolioArr, dataSMA, dataRecentPulled, j);\n\n      // CCI 20 ------------------------------------------------------------------------------------------------------------------------------------------------------------------\n      cciFunction(portfolioArr, dataSMA, dataRecentPulled, j);\n\n      // BOLLINGER BANDS ------------------------------------------------------------------------------------------------------------------------------------------------------------------\n      bollingerBandsFunction(portfolioArr, dataSMA, dataRecentPulled, j);\n\n      // SET VOLUME PROPERTIES\n      setVolume(portfolioArr, dataSMA, dataRecentPulled, j);\n\n      j++; // UPDATE WHILE LOOP\n    } // THIS IS THE END OF LOOP\n\n    const returnedData = await callback(portfolioArr, buildSearchTech);\n\n    return returnedData;\n  }\n\n  async function buildSearchTech(arr) {\n    for (let i = 0; i < arr.length; i++) {\n      let {\n        symbol,\n        price,\n        change,\n        changesPercentage,\n        avgVolume,\n        volume,\n        yesterdayVolume,\n        vwap,\n        smaFiveTeen,\n        smaTwenty,\n        smaThirty,\n        smaFifty,\n        smaOneHun,\n        smaTwoHun,\n        emaEight,\n        emaTwelve,\n        emaTwenty,\n        emaTwentySix,\n        emaFifty,\n        emaTwoHun,\n        wmaFiveTeen,\n        wmaTwenty,\n        wmaThirty,\n        wmaFifty,\n        wmaOneHun,\n        wmaTwoHun,\n        vwmaFiveTeen,\n        vwmaTwenty,\n        vwmaThirty,\n        vwmaFifty,\n        vwmaOneHun,\n        vwmaTwoHun,\n        macd,\n        macdHistogram,\n        macdSignalLine,\n        rsi,\n        stochasticD,\n        stochasticK,\n        stochasticSignal,\n        cciTwenty,\n        bbMiddle,\n        bbLower,\n        bbUpper,\n        bbPercent,\n        williamsR,\n      } = arr[i];\n\n      let directionArrow = \"up\";\n      // SETS ARROW FOR UP AND DOWN --------------\n      if (changesPercentage < 0) {\n        arr[i].directionArrow = \"down\";\n      } else {\n        arr[i].directionArrow = \"up\";\n      }\n\n      // CHANGE TO POSITIVE BUT ARROW POINTS DOWN OR UP ----------\n      if (change < 0) {\n        arr[i].change = change * -1;\n      }\n\n      // ADJUST TO FIXED --------------------------------------------------------\n\n      price = price.toFixed(2);\n\n      change = change.toFixed(2);\n\n      changesPercentage = changesPercentage.toFixed(2);\n\n      // VOLUME INCREASE TODAY ----------\n      let volumeIncrease = 0;\n\n      if (volume > avgVolume) {\n        let increase = volume - avgVolume;\n        volumeIncrease = (increase / avgVolume) * 100;\n      } else {\n        let decrease = avgVolume - volume;\n        volumeIncrease = (decrease / avgVolume) * -100;\n      }\n\n      volumeIncrease = volumeIncrease.toFixed(2);\n\n      // TO GET AVERAGE DAILY VOLUME FOR YESTERDAY ----------------\n      let yesterdayVolIncrease = 0;\n\n      if (yesterdayVolume > avgVolume) {\n        let increase = yesterdayVolume - avgVolume;\n        yesterdayVolIncrease = (increase / avgVolume) * 100;\n      } else {\n        let decrease = avgVolume - yesterdayVolume;\n        yesterdayVolIncrease = (decrease / avgVolume) * -100;\n      }\n\n      yesterdayVolIncrease = yesterdayVolIncrease.toFixed(2);\n\n      // NaN CHECK ----------------------------------------\n      if (isNaN(yesterdayVolIncrease)) {\n        arr[i].yesterdayVolIncrease = \"No Data\";\n      }\n\n      // ADJUST TO POSITIVE\n      if (arr[i].stochasticD < 0) {\n        arr[i].stochasticD = arr[i].stochasticD * -1;\n      }\n      if (arr[i].stochasticK < 0) {\n        arr[i].stochasticK = arr[i].stochasticK * -1;\n      }\n      if (arr[i].stochasticD < 0) {\n        arr[i].stochasticD = arr[i].stochasticD * -1;\n      }\n      if (arr[i].stochasticK < 0) {\n        arr[i].stochasticK = arr[i].stochasticK * -1;\n      }\n\n      // ADJUST CERTAIN PARTS TO GIVE RIGHT PROMPT IF UNDEFINED\n\n      if (arr[i].avgVolume == undefined) {\n        arr[i].avgVolume = \"No Data\";\n      }\n\n      if (arr[i].volume == undefined) {\n        arr[i].volume = \"No Data\";\n      }\n\n      if (arr[i].volumeIncrease == undefined) {\n        arr[i].volumeIncrease = \"No Data\";\n      }\n\n      if (arr[i].yesterdayVolume == undefined) {\n        arr[i].yesterdayVolume = \"No Data\";\n      }\n\n      if (arr[i].smaFiveTeen == undefined) {\n        arr[i].smaFiveTeen = \"No Data\";\n      }\n\n      if (arr[i].smaTwenty == undefined) {\n        arr[i].smaTwenty = \"No Data\";\n      }\n\n      if (arr[i].smaThirty == undefined) {\n        arr[i].smaThirty = \"No Data\";\n      }\n\n      if (arr[i].smaFifty == undefined) {\n        arr[i].smaFifty = \"No Data\";\n      }\n\n      if (arr[i].smaOneHun == undefined) {\n        arr[i].smaOneHun = \"No Data\";\n      }\n\n      if (arr[i].smaTwoHun == undefined) {\n        arr[i].smaTwoHun = \"No Data\";\n      }\n\n      if (arr[i].emaEight == undefined) {\n        arr[i].emaEight = \"No Data\";\n      }\n\n      if (arr[i].emaTwelve == undefined) {\n        arr[i].emaTwelve = \"No Data\";\n      }\n\n      if (arr[i].emaTwenty == undefined) {\n        arr[i].emaTwenty = \"No Data\";\n      }\n\n      if (arr[i].emaTwentySix == undefined) {\n        arr[i].emaTwentySix = \"No Data\";\n      }\n\n      if (arr[i].emaFifty == undefined) {\n        arr[i].emaFifty = \"No Data\";\n      }\n\n      if (arr[i].emaTwoHun == undefined) {\n        arr[i].emaTwoHun = \"No Data\";\n      }\n\n      if (arr[i].wmaFiveTeen == undefined) {\n        arr[i].wmaFiveTeen = \"No Data\";\n      }\n\n      if (arr[i].wmaTwenty == undefined) {\n        arr[i].wmaTwenty = \"No Data\";\n      }\n\n      if (arr[i].wmaThirty == undefined) {\n        arr[i].wmaThirty = \"No Data\";\n      }\n\n      if (arr[i].wmaFifty == undefined) {\n        arr[i].wmaFifty = \"No Data\";\n      }\n\n      if (arr[i].wmaOneHun == undefined) {\n        arr[i].wmaOneHun = \"No Data\";\n      }\n\n      if (arr[i].wmaTwoHun == undefined) {\n        arr[i].wmaTwoHun = \"No Data\";\n      }\n\n      if (arr[i].vwmaFiveTeen == undefined) {\n        arr[i].vwmaFiveTeen = \"No Data\";\n      }\n      if (arr[i].vwmaTwenty == undefined) {\n        arr[i].vwmaTwenty = \"No Data\";\n      }\n      if (arr[i].vwmaThirty == undefined) {\n        arr[i].vwmaThirty = \"No Data\";\n      }\n      if (arr[i].vwmaFifty == undefined) {\n        arr[i].vwmaFifty = \"No Data\";\n      }\n      if (arr[i].vwmaOneHun == undefined) {\n        arr[i].vwmaOneHun = \"No Data\";\n      }\n      if (arr[i].vwmaTwoHun == undefined) {\n        arr[i].vwmaTwoHun = \"No Data\";\n      }\n\n      if (arr[i].vwap == undefined) {\n        arr[i].vwap = \"No Data\";\n      }\n\n      if (arr[i].macd == undefined) {\n        arr[i].macd = \"No Data\";\n      }\n\n      if (arr[i].rsi == undefined) {\n        arr[i].rsi = \"No Data\";\n      }\n      if (arr[i].cciTwenty == undefined) {\n        arr[i].cciTwenty = \"No Data\";\n      }\n\n      if (arr[i].williamsR == undefined) {\n        arr[i].williamsR = \"No Data\";\n      }\n\n      if (arr[i].stochasticK == undefined) {\n        arr[i].stochasticK = \"No Data\";\n      }\n      if (arr[i].stochasticD == undefined) {\n        arr[i].stochasticD = \"No Data\";\n      }\n      if (arr[i].stochasticSignal == undefined) {\n        arr[i].stochasticSignal = \"No Data\";\n      }\n\n      if (arr[i].bbMiddle == undefined) {\n        arr[i].bbMiddle = \"No Data\";\n      }\n      if (arr[i].bbLower == undefined) {\n        arr[i].bbLower = \"No Data\";\n      }\n      if (arr[i].bbUpper == undefined) {\n        arr[i].bbUpper = \"No Data\";\n      }\n      if (arr[i].bbPercent == undefined) {\n        arr[i].bbPercent = \"No Data\";\n      }\n\n      // ADJUST TO POSITIVE\n      if (arr[i].stochasticD < 0) {\n        arr[i].stochasticD = arr[i].stochasticD * -1;\n      }\n      if (arr[i].stochasticK < 0) {\n        arr[i].stochasticK = arr[i].stochasticK * -1;\n      }\n      if (arr[i].stochasticD < 0) {\n        arr[i].stochasticD = arr[i].stochasticD * -1;\n      }\n      if (arr[i].stochasticK < 0) {\n        arr[i].stochasticK = arr[i].stochasticK * -1;\n      }\n\n      arr[i].volumeIncreaseToday = volumeIncrease;\n      arr[i].volumeIncreaseYesterday = yesterdayVolIncrease;\n      arr[i].volumeYesterday = yesterdayVolume;\n    }\n    const returnedData = await arr;\n    return returnedData;\n  }\n\n  const returnedData = await filterTradableSymbols(arr, technicalIndicators);\n\n\n  let emptyPortObj = {\n    avgVolume: 0,\n    bbLower: 0,\n    bbMiddle: 0,\n    bbPercent: 0,\n    bbUpper: 0,\n    cciTwenty: 0,\n    change: 0,\n    changesPercentage: 0,\n    dayHigh: 0,\n    dayLow: 0,\n    earningsAnnouncement: 0,\n    emaEight: 0,\n    emaFifty: 0,\n    emaTwelve: 0,\n    emaTwenty: 0,\n    emaTwentySix: 0,\n    emaTwoHun: 0,\n    eps: 0,\n    exchange: 0,\n    macd: 0,\n    macdHistogram: 0,\n    macdSignalLine: 0,\n    marketCap: 0,\n    name: \"Placeholder for lack of Symbols\",\n    open: 0,\n    pe: 0,\n    previousClose: 0,\n    price: 0,\n    priceAvg50: 0,\n    priceAvg200: 0,\n    rsi: 0,\n    sharesOutstanding: 0,\n    smaFifty: 0,\n    smaFiveTeen: 0,\n    smaOneHun: 0,\n    smaThirty: 0,\n    smaTwenty: 0,\n    smaTwoHun: 0,\n    stochasticD: 0,\n    stochasticK: 0,\n    stochasticSignal: 0,\n    symbol: \"Empty\",\n    timestamp: 0,\n    volume: 0,\n    vwap: 0,\n    vwmaFifty: 0,\n    vwmaFiveTeen: 0,\n    vwmaOneHun: 0,\n    vwmaThirty: 0,\n    vwmaTwenty: 0,\n    vwmaTwoHun: 0,\n    williamsR: 0,\n    wmaFifty: 0,\n    wmaFiveTeen: 0,\n    wmaOneHun: 0,\n    wmaThirty: 0,\n    wmaTwenty: 0,\n    wmaTwoHun: 0,\n    yearHigh: 0,\n    yearLow: 0,\n    yesterdayVolume: 0,\n  };\n\n  if (returnedData.length < 10) {\n    while (returnedData.length < 10) {\n      returnedData.push(emptyPortObj)\n    }\n  } \n  \n  return returnedData;\n};\n"]},"metadata":{},"sourceType":"module"}