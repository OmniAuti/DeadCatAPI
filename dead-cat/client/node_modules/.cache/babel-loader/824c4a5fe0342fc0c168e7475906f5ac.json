{"ast":null,"code":"async function filterTradableSymbols(arr1, arr2, compileCallback) {\n  let nyseHolderDown = []; //THESE ARRS NEED TO BE ACCESSIBLE TO COMPILE CALLBACK\n\n  let nyseHolderUp = []; //THESE ARRS NEED TO BE ACCESSIBLE TO COMPILE CALLBACK\n\n  let nasdaqHolderDown = [];\n  let nasdaqHolderUp = [];\n\n  try {\n    // ------ FETCH NYSE\n    const res = await fetch(\"https://financialmodelingprep.com/api/v3/quotes/nyse?apikey=4d4593bc9e6bc106ee9d1cbd6400b218\");\n    const dataNyse = await res.json(); // ----- FILTER TRADABLE SYMBOLS ON NYSE THAT HAVE DROPPED\n\n    for (let i = 0; i < dataNyse.length; i++) {\n      if (dataNyse[i].changesPercentage < -5 && arr1.indexOf(dataNyse[i].symbol) > 0 && dataNyse[i].price > .10) {\n        nyseHolderDown.push(dataNyse[i]);\n      }\n    }\n\n    for (let i = 0; i < dataNyse.length; i++) {\n      if (dataNyse[i].changesPercentage > 5 && arr1.indexOf(dataNyse[i].symbol) > 0 && dataNyse[i].price > .10) {\n        nyseHolderUp.push(dataNyse[i]);\n      }\n    } // ------ FETCH NASDAQ\n\n\n    const resTwo = await fetch(\"https://financialmodelingprep.com/api/v3/quotes/nasdaq?apikey=4d4593bc9e6bc106ee9d1cbd6400b218\");\n    const dataNas = await resTwo.json(); // ----- FILTER TRADABLE SYMBOLS ON NASDAQ THAT HAVE DROPPED\n\n    for (let i = 0; i < dataNas.length; i++) {\n      if (dataNas[i].changesPercentage < -5 && arr2.indexOf(dataNas[i].symbol) > 0 && dataNas[i].price > 1) {\n        nasdaqHolderDown.push(dataNas[i]);\n      }\n    }\n\n    for (let i = 0; i < dataNas.length; i++) {\n      if (dataNas[i].changesPercentage > 5 && arr2.indexOf(dataNas[i].symbol) > 0 && dataNas[i].price > 1) {\n        nasdaqHolderUp.push(dataNas[i]);\n      }\n    } //--------- CATCH\n\n  } catch (e) {}\n\n  const returnedData = await compileCallback(nasdaqHolderDown, nyseHolderDown, nyseHolderUp, nasdaqHolderUp, technicalIndicators); // CALLBACK FOR STOCK FILTER\n\n  return returnedData;\n}\n\nmodules.exports = {\n  filterTradableSymbols\n};","map":{"version":3,"sources":["/Users/austinolijar/Desktop/MERN-DeadCat/dead-cat/src/JS/fetch-compile-functions/filterTradableStocks.js"],"names":["filterTradableSymbols","arr1","arr2","compileCallback","nyseHolderDown","nyseHolderUp","nasdaqHolderDown","nasdaqHolderUp","res","fetch","dataNyse","json","i","length","changesPercentage","indexOf","symbol","price","push","resTwo","dataNas","e","returnedData","technicalIndicators","modules","exports"],"mappings":"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","sourcesContent":["async function filterTradableSymbols(arr1, arr2, compileCallback) {\n    let nyseHolderDown = []; //THESE ARRS NEED TO BE ACCESSIBLE TO COMPILE CALLBACK\n    let nyseHolderUp = []; //THESE ARRS NEED TO BE ACCESSIBLE TO COMPILE CALLBACK\n    let nasdaqHolderDown = [];\n    let nasdaqHolderUp = [];\n    \n    try {\n      // ------ FETCH NYSE\n      const res = await fetch(\n        \"https://financialmodelingprep.com/api/v3/quotes/nyse?apikey=4d4593bc9e6bc106ee9d1cbd6400b218\"\n      );\n      const dataNyse = await res.json();\n      // ----- FILTER TRADABLE SYMBOLS ON NYSE THAT HAVE DROPPED\n      for (let i = 0; i < dataNyse.length; i++) {\n        if (\n          dataNyse[i].changesPercentage < -5 &&\n          arr1.indexOf(dataNyse[i].symbol) > 0 &&\n          dataNyse[i].price > .10\n        ) {\n          nyseHolderDown.push(dataNyse[i]);\n        }\n      }\n  \n      for (let i = 0; i < dataNyse.length; i++) {\n        if (\n          dataNyse[i].changesPercentage > 5 &&\n          arr1.indexOf(dataNyse[i].symbol) > 0 &&\n          dataNyse[i].price > .10\n        ) {\n          nyseHolderUp.push(dataNyse[i]);\n        }\n      }\n      // ------ FETCH NASDAQ\n      const resTwo = await fetch(\n        \"https://financialmodelingprep.com/api/v3/quotes/nasdaq?apikey=4d4593bc9e6bc106ee9d1cbd6400b218\"\n      );\n      const dataNas = await resTwo.json();\n      // ----- FILTER TRADABLE SYMBOLS ON NASDAQ THAT HAVE DROPPED\n      for (let i = 0; i < dataNas.length; i++) {\n        if (\n          dataNas[i].changesPercentage < -5 &&\n          arr2.indexOf(dataNas[i].symbol) > 0 &&\n          dataNas[i].price > 1\n        ) {\n          nasdaqHolderDown.push(dataNas[i]);\n        }\n      }\n  \n      for (let i = 0; i < dataNas.length; i++) {\n        if (\n          dataNas[i].changesPercentage > 5 &&\n          arr2.indexOf(dataNas[i].symbol) > 0 &&\n          dataNas[i].price > 1\n        ) {\n          nasdaqHolderUp.push(dataNas[i]);\n        }\n      }\n      //--------- CATCH\n    } catch (e) {}\n  \n  \n    const returnedData = await compileCallback(\n      nasdaqHolderDown,\n      nyseHolderDown,\n      nyseHolderUp,\n      nasdaqHolderUp,\n      technicalIndicators\n    ); // CALLBACK FOR STOCK FILTER\n    return returnedData;\n    \n  }\n\n  modules.exports = {filterTradableSymbols}"]},"metadata":{},"sourceType":"module"}